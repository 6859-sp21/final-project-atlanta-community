(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-466747c2"],{"01af":function(t,e,n){"use strict";n("a1ab")},"0632":function(t,e,n){},"086b":function(t,e,n){"use strict";n("a73a")},"0f44":function(t,e,n){"use strict";n("eedf")},1827:function(t,e,n){},"182d":function(t,e,n){"use strict";n("e768")},"18dc":function(t,e,n){},"2d8a":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t){return"function"==typeof t}function e(){}var n=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};function r(t){return function(){return t}}function i(){return[]}n.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},n.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach((function(t){try{t()}catch(t){}})))},n.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch(t){}this.interruptHandlers.add(t)};var a={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:r({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:r({opacity:0})},loadFont:{type:Function,default:function(t,e,n,r){return document.fonts.load([e,n,"1px",t].join(" "),r)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:i}},o=r(null);function s(t){if(t){var e=typeof t;return"object"===e||"function"===e}return!1}function u(t){return"string"==typeof t}var l={animationOptions:function(){var t,e,n,r=this.animationDuration,i=this.enterAnimation,a=this.leaveAnimation;if(s(i)&&s(a)){var l=(t=Object.assign({},i,a),e=o,n={},Object.entries(t).forEach((function(r){var i=r[0],a=r[1];n[i]=e(a,i,t)})),n),c=function(t){Object.assign(t.style,i)},h=function(t,e){setTimeout((function(){Object.assign(t.style,l),setTimeout(e,r)}),1)};return{props:{css:!1},on:{beforeAppear:c,appear:h,beforeEnter:c,enter:h,leave:function(t,e){Object.assign(t.style,a),setTimeout(e,r)}}}}return u(i)&&u(a)?{props:{duration:r,appear:!0,appearActiveClass:i,enterActiveClass:i,leaveActiveClass:a}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var e=this.animationDuration,n=this.normalizedAnimationOverlap;return e/Math.min(n,t.length)}return 0}},c=Array.isArray;function h(e){return t(e)?e:r(e)}var f=2*Math.PI,d=f/360;function m(t){return void 0===t}function p(t,e){return t.postMessage(e),function(t){return new Promise((function(e,n){var r,i=function(t){var n=t.data;r(),e(n)},a=function(t){var e=t.error;r(),n(e)};r=function(){t.removeEventListener("message",i),t.removeEventListener("error",a)},t.addEventListener("message",i),t.addEventListener("error",a)}))}(t)}function g(t,e,n){return Math.ceil(t*Math.abs(Math.sin(n))+e*Math.abs(Math.cos(n)))}function v(t,e,n){return Math.ceil(t*Math.abs(Math.cos(n))+e*Math.abs(Math.sin(n)))}function y(t,e,n,r,i){return[t,e,n,r+"px",i].join(" ")}function w(t,e){return Math.ceil(t/e)*e}function b(t,e,n){var r=n().getContext("2d");return r.font=e,r.measureText(t).width}var _=function(t,e,n,r,i,a,o){this.t=t,this.i=e,this.o=n,this.u=r,this.s=i,this.h=a,this.l=o,this.v=1,this.m=0,this.p=0,this.g=0},x={M:{configurable:!0},S:{configurable:!0},j:{configurable:!0},F:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},k:{configurable:!0},N:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};x.M.get=function(){return this.v},x.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},x.S.get=function(){return y(this.h,this.s,this.u,this.M,this.o)},x.j.get=function(){return void 0===this.q&&(this.q=b(this.t,y(this.h,this.s,this.u,1,this.o),this.l)),this.q},x.F.get=function(){return this.j*this.M},x.O.get=function(){return this.p*this.M},x.O.set=function(t){this.p=t/this.M},x.W.get=function(){return this.g*this.M},x.W.set=function(t){this.g=t/this.M},x.A.get=function(){return v(this.F,this.M,this.i)},x.B.get=function(){return g(this.F,this.M,this.i)},x.C.get=function(){return this.O-this.A/2},x.L.get=function(){return this.W-this.B/2},x._.get=function(){return this.m},x._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},x.P.get=function(){return void 0===this.V&&(this.V=function(t,e,n,r,i,a,o,s,u){var l=y(e,n,r,i*=4,a),c=o*i*2,h=c+b(t,l,u),f=c+i,d=u(),m=d.getContext("2d"),p=w(v(h,f,s),4),_=w(g(h,f,s),4);d.width=p,d.height=_,m.translate(p/2,_/2),m.rotate(s),m.font=l,m.textAlign="center",m.textBaseline="middle",m.fillText(t,0,0),c>0&&(m.miterLimit=1,m.lineWidth=c,m.strokeText(t,0,0));for(var x=m.getImageData(0,0,p,_).data,M=[],k=1/0,A=0,N=1/0,E=0,S=p/4,C=_/4,T=0;T<S;++T)for(var z=0;z<C;++z)t:for(var j=0;j<4;++j)for(var $=0;$<4;++$)if(x[4*(p*(4*z+$)+(4*T+j))+3]){M.push([T,z]),k=Math.min(T,k),A=Math.max(T+1,A),N=Math.min(z,N),E=Math.max(z+1,E);break t}return M.length>0?[M.map((function(t){var e=t[0],n=t[1];return[e-k,n-N]})),A-k,E-N,Math.ceil(S/2)-k,Math.ceil(C/2)-N]:[M,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},x.T.get=function(){return this.P[0]},x.k.get=function(){return this.P[1]},x.N.get=function(){return this.P[2]},x.D.get=function(){return this.P[3]},x.H.get=function(){return this.P[4]},x.R.get=function(){return Math.ceil(this.O)-this.D},x.R.set=function(t){this.O=t+this.D},x.U.get=function(){return Math.ceil(this.W)-this.H},x.U.set=function(t){this.W=t+this.H},Object.defineProperties(_.prototype,x);var M={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},k={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},A={name:"VueWordCloud",mixins:[function(r){return{data:function(){var t={};return Object.keys(r).forEach((function(e){t["asyncComputed_trigger_"+e]={}})),t},computed:{},beforeCreate:function(){var i=this,a=new Set;Object.entries(r).forEach((function(r){var o=r[0],s=r[1],u=s.get,l=s.default,c=s.errorHandler;void 0===c&&(c=e);var h,f=!0;i.$options.computed[o]=function(){return this["asyncComputed_trigger_"+o],this["asyncComputed_promise_"+o],l},i.$options.computed["asyncComputed_promise_"+o]=function(){var e=this;h&&(h.interrupt(),a.delete(h)),f&&(f=!1,t(l)&&(l=l.call(this)));var r=new n(l);h=r,a.add(h),new Promise((function(t){t(u.call(e,r))})).then((function(t){r.throwIfInterrupted(),l=t,e["asyncComputed_trigger_"+o]={}})).catch(c)}}))}}}({cloudWords:{get:function(t){var n,r=this,i=this,a=i.elementWidth,o=i.elementHeight,l=i.words,g=i.text,v=i.weight,y=i.rotation,w=i.rotationUnit,b=i.fontFamily,x=i.fontWeight,M=i.fontVariant,k=i.fontStyle,A=i.color,N=i.spacing,E=i.fontSizeRatio,S=i.createCanvas,C=i.loadFont,T=i.createWorker;n=E,E=(n=Math.abs(n))>1?1/n:n;var z=function(t){var e=t[0],n=t[1];return e>n?[1,n/e]:n>e?[e/n,1]:[1,1]}([a,o]);if(a>0&&o>0){var j=h(g),$=h(v),B=h(y),I=h(w),O=h(b),F=h(x),P=h(M),D=h(k),R=h(A);return l=l.map((function(t,e){var n,r,i,a,o,h,p,g,v,y,w;t&&(u(t)?i=t:c(t)?(i=(n=t)[0],a=n[1]):s(t)&&(i=(r=t).text,a=r.weight,o=r.rotation,h=r.rotationUnit,p=r.fontFamily,g=r.fontWeight,v=r.fontVariant,y=r.fontStyle,w=r.color)),m(i)&&(i=j(t,e,l)),m(a)&&(a=$(t,e,l)),m(o)&&(o=B(t,e,l)),m(h)&&(h=I(t,e,l)),m(p)&&(p=O(t,e,l)),m(g)&&(g=F(t,e,l)),m(v)&&(v=P(t,e,l)),m(y)&&(y=D(t,e,l)),m(w)&&(w=R(t,e,l));var b=new _(i,function(){switch(h){case"turn":return o*f;case"deg":return function(t){return t*d}(o)}return o}(),p,g,v,y,S);return Object.assign(b,{J:t,Y:a,G:w}),b})),Promise.resolve().then((function(){return Promise.all(l.map((function(t){var e=t.o,n=t.h,r=t.u,i=t.t;return C(e,n,r,i)})))})).catch(e).then((function(){if((l=l.filter((function(t){return t.F>0})).sort((function(t,e){return e.Y-t.Y}))).length>0){var e=l[0],n=function(t){return t[(e=t,e.length-1)];var e}(l),i=e.Y,s=n.Y;if(s<i){var u=E>0?1/E:s>0?i/s:i<0?s/i:1+i-s;l.forEach((function(t){var e,n,r;t.M=(e=t.Y,(r=1)+(e-(n=s))*(u-r)/(i-n))}))}l.reduceRight((function(t,e){return e.M<2*t?e.M/=t:(t=e.M,e.M=1),e.I=t}),1),l.forEach((function(t){t.M*=4}));var c=T('!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();\n'),h={completedWords:0,totalWords:l.length};return Promise.resolve().then((function(){return t.throwIfInterrupted(),r.progress=h,p(c,z)})).then((function(){t.throwIfInterrupted(),h.completedWords++;var e=Promise.resolve();return l.reduce((function(n,r,i){return e=e.then((function(){return r.I<n.I?Promise.resolve().then((function(){return p(c,{name:"clear"})})).then((function(){var t=Promise.resolve(),e=n.I/r.I;return l.slice(0,i).forEach((function(n){t=t.then((function(){return n.M*=e,p(c,{name:"put",args:[n.T,n.R,n.U]})}))})),t})):p(c,{name:"put",args:[n.T,n.R,n.U]})})).then((function(){return r._=N,p(c,{name:"findFit",args:[r.T,r.R,r.U]})})).then((function(e){var n=e[0],i=e[1];t.throwIfInterrupted(),h.completedWords++,r.R=n,r.U=i,r._=0})),r})),e})).then((function(){return p(c,{name:"put",args:[n.T,n.R,n.U]})})).then((function(){return p(c,{name:"getBounds"})})).then((function(t){var e=t.left,n=t.top,r=t.width,i=t.height;if(r>0&&i>0){var s=Math.min(a/r,o/i);l.forEach((function(t){t.O-=e,t.W-=n,t.M*=s}))}var u=new Set;return l.map((function(t){for(var e=t.J,n=t.t,r=t.Y,i=t.i,a=t.o,o=t.u,s=t.s,l=t.h,c=t.S,h=t.O,f=t.W,d=t.G,m=JSON.stringify([n,a,o,s,l]);u.has(m);)m+="!";return u.add(m),{key:m,word:e,text:n,weight:r,rotation:i,font:c,color:d,left:h,top:f}}))})).finally((function(){c.terminate()})).finally((function(){t.throwIfInterrupted(),r.progress=null}))}return[]}))}return[]},default:i}})],props:a,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:l,watch:M,mounted:function(){var t,e,n=this;t=function(){if(n._isDestroyed)return!1;n.updateElementSize()},e=1e3,function(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return t.call.apply(t,[this,e].concat(n))};return e}((function(n){requestAnimationFrame((function(){!1!==t()&&setTimeout(n,e)}))}))()},methods:k,render:function(t){var e=this.$scopedSlots,n=this.animationEasing,r=this.animationOptions,i=this.cloudWords,a=this.separateAnimationDelay,o=this.separateAnimationDuration;return e=Object.assign({},{default:function(t){return t.text}},e),t("div",{style:{height:"100%",position:"relative",width:"100%"}},[t("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},i.map((function(i,s){var u=i.color,l=i.font,c=i.left,h=i.rotation,f=i.text,d=i.top,m=i.weight,p=i.word;return t("transition",Object.assign({},r),[t("div",{key:s,style:Object.assign({},{left:c+"px",position:"absolute",top:d+"px"},o>0?{animation:[o+"ms",n,a*s+"ms"].join(" "),transition:["all",o+"ms",n,a*s+"ms"].join(" ")}:{})},[t("div",{style:Object.assign({},{bottom:0,position:"absolute",right:0,transform:["translate(50%,50%)","rotate("+h+"rad)"].join(" ")},o>0?{transition:["all",o+"ms",n,a*s+"ms"].join(" ")}:{})},[t("span",{style:{color:u,display:"inline-block",font:l,lineHeight:1,transform:"translateY(-0.1em)",whiteSpace:"nowrap"}},[e.default({color:u,font:l,left:c,text:f,top:d,weight:m,word:p})])])])])})))])}},N=globalThis.window;if(N){var E=N.Vue;E&&E.component(A.name,A)}return A}))},3061:function(t,e,n){t.exports=n.p+"img/atlanta.dc98c56b.png"},"35ac":function(t,e,n){},3619:function(t,e,n){"use strict";n("e7a7")},3659:function(t,e,n){},"4d4d":function(t,e,n){"use strict";n("d134")},"4ed3":function(t,e,n){},5798:function(t,e,n){"use strict";n("3659")},5970:function(t,e,n){"use strict";n("8979")},"5c1a":function(t,e,n){},"616d":function(t,e,n){"use strict";n("4ed3")},"680f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"viz-page"},[n("Cover"),n("Intro"),n("Tutorial"),n("Definitions"),n("CircleIntro"),n("CirclePacking"),n("BarIntro"),n("BarChart"),n("ScatterIntro"),n("ScatterChart"),n("Thanks")],1)},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cover"}},[n("div",{attrs:{id:"title"}},[n("div",{attrs:{id:"title-text"}},[n("h1",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title1)+" ")]),n("h2",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title2)+" ")]),n("h5",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title3)+" ")])]),n("span",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])])},o=[],s={name:"Cover",data(){return{title1:"Exploring Patterns of Language Variation on Social Media",title2:"A case study in Atlanta online communities",title3:"Warning: there might be some explicit word usage on this website that is not appropriate for all ages"}},methods:{scroll(){document.getElementById("intro").scrollIntoView({behavior:"smooth"})}}},u=s,l=(n("5970"),n("2877")),c=Object(l["a"])(u,a,o,!1,null,"fb26b528",null),h=c.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"intro"}},[r("div",{attrs:{id:"text-block"}},[r("hr"),r("p",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" Our team will explore how different communities in Atlanta perceive language in different ways. To do this, we’ll be using a dataset of 149 local communities with information about their online behavior on Twitter. Information at the twitter account level allowed us to create summary statistics at the community level such as community size, average number of followers, friends and tweets and understand what are the top follows and topic words in each community. Following a specific methodology, deviations from the normal language can be measured and these deviations are called semantic change. Our main goal is that the user can understand the semantic change in social media across Atlanta’s communities and have a guide for current local trends online. Examples of potential users are journalists, politicians and society as a whole. ")]),r("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])]),r("div",{staticClass:"text-image"},[r("b-img",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"screenshot",attrs:{src:n("3061")}})],1)])},d=[],m={name:"Intro",data(){return{}},methods:{scroll(){console.log(document.getElementById("intro")),document.getElementById("tutorial").scrollIntoView({behavior:"smooth"})}}},p=m,g=(n("d1e2"),Object(l["a"])(p,f,d,!1,null,"7e5103cb",null)),v=g.exports,y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"tutorial"}},[r("div",{staticClass:"text-image"},[r("b-img",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"screenshot",attrs:{src:n("821f")}})],1),r("div",{attrs:{id:"text-block"}},[r("hr"),r("p",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" What is Semantic Change? According to wikipedia, Semantic Change is a form of language change regarding the evolution of word usage."),r("br")]),r("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])])},w=[],b={name:"Tutorial",data(){return{}},methods:{scroll(){document.getElementById("definitions").scrollIntoView({behavior:"smooth"})}}},_=b,x=(n("086b"),Object(l["a"])(_,y,w,!1,null,"2e3dec4d",null)),M=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"definitions"}},[n("div",{attrs:{id:"text-block"}},[n("h5",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v("Here are some key definitions of variable in this visualization")]),n("hr"),n("ul",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},t._l(t.items,(function(e){return n("li",{key:e.name},[n("b",[t._v(t._s(e.name))]),t._v(" "+t._s(e.text)+" ")])})),0),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])]),n("div",{staticClass:"text-image"})])},A=[],N={name:"Definitions",data(){return{items:[{name:"Age",text:"we encode four age groups <=18, 19-29, 30-39, >=40 into 0-3 and use the average age of community members to represent the community-level age"},{name:"Gender Diversity",text:"we measure the gender diversity with the female ratio in each community"},{name:"Organization Status",text:"we represent organization status with the proportion of organizational accounts in each community"},{name:"Community Size",text:"community size is the number of unique users in a Twitter community"},{name:"Social Status",text:"we measure social status by the median number of friends per user in a Twitter community"},{name:"User Tweet/Favorite Activity",text:"user tweet activity is the average number of tweets per user in the community, whereas user favorite activity is measured by the average number of favorites given out per user in a community"},{name:"Closeness",text:"we represent closeness of a community with the average closeness score per user. This closeness score of a user measures its average inverse distance to all other users"},{name:"Betweenness",text:"we represent betweenness of a community with the average betweenness score per user. It represents the degree to which nodes stand between each other"}]}},methods:{scroll(){document.getElementById("intro-circle").scrollIntoView({behavior:"smooth"})}}},E=N,S=(n("01af"),Object(l["a"])(E,k,A,!1,null,"3f1d2ad9",null)),C=S.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"intro-circle"}},[n("h2",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" Community Grouping ")]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"text-block"}},[n("hr"),n("p",[t._v(" In the graph below, each of the 149 identified communities are represented as bubbles which are circled by the group to which that community belongs (e.g. social media, music, etc) and this, in turn, is circled by one of the four broad categories (entertainment, sports, society and atlanta). ")]),n("p",[t._v(" You can explore these hierarchies and grouping by clicking each layer of circles. When you arrive in the community bubble on the third layer, you can click it and see the top Twitter accounts that are followed by members in that community. If you click on any of those accounts, it will open up in a separate page. The size of the bubbles represent a feature of each community which can be selected from the drop-down menu at the left of the chart (community size, average friends count, etc). You can have a general first impression to understand which are Atlanta’s online communities and how they differ on one of these dimensions. For example, one quick takeaway of this graph is that the largest communities in terms of size are not necessarily the ones with the largest follower count. ")])]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},z=[],j={name:"CircleIntro",data(){return{}},methods:{scroll(){document.getElementById("page-circle").scrollIntoView({behavior:"smooth"})}}},$=j,B=(n("5798"),Object(l["a"])($,T,z,!1,null,"5832b6a4",null)),I=B.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"page-barchart"}},[n("div",{staticClass:"content",attrs:{id:"content-barchart"}},[n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"title"},[n("h2",[t._v(" Ranking Communities ")])]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"top"},[n("Ranking",{attrs:{dropdownTitile:t.dropdownTitile}})],1),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],ref:"bottom",staticClass:"bottom"},[n("BarGraph")],1)]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},F=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chart1",attrs:{id:"chart-1"}},[n("div",{attrs:{id:"bar-tooltip"}}),n("div",{ref:"svg-container",attrs:{id:"svg-container-1"}})])},D=[];function R(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}var H=Array.prototype.slice,V=function(t){return t},W=1,q=2,L=3,Y=4,U=1e-6;function X(t){return"translate("+t+",0)"}function G(t){return"translate(0,"+t+")"}function J(t){return e=>+t(e)}function K(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Z(){return!this.__axis}function Q(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,u="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,l=t===W||t===Y?-1:1,c=t===Y||t===q?"x":"y",h=t===W||t===L?X:G;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,m=null==i?e.tickFormat?e.tickFormat.apply(e,n):V:i,p=Math.max(a,0)+s,g=e.range(),v=+g[0]+u,y=+g[g.length-1]+u,w=(e.bandwidth?K:J)(e.copy(),u),b=f.selection?f.selection():f,_=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(d,e).order(),M=x.exit(),k=x.enter().append("g").attr("class","tick"),A=x.select("line"),N=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(k),A=A.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),N=N.merge(k.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",t===W?"0em":t===L?"0.71em":"0.32em")),f!==b&&(_=_.transition(f),x=x.transition(f),A=A.transition(f),N=N.transition(f),M=M.transition(f).attr("opacity",U).attr("transform",(function(t){return isFinite(t=w(t))?h(t+u):this.getAttribute("transform")})),k.attr("opacity",U).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:w(t))+u)}))),M.remove(),_.attr("d",t===Y||t===q?o?"M"+l*o+","+v+"H"+u+"V"+y+"H"+l*o:"M"+u+","+v+"V"+y:o?"M"+v+","+l*o+"V"+u+"H"+y+"V"+l*o:"M"+v+","+u+"H"+y),x.attr("opacity",1).attr("transform",(function(t){return h(w(t)+u)})),A.attr(c+"2",l*a),N.attr(c,l*p).text(m),b.filter(Z).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===q?"start":t===Y?"end":"middle"),b.each((function(){this.__axis=w}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=H.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:H.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:H.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f.offset=function(t){return arguments.length?(u=+t,f):u},f}function tt(t){return Q(L,t)}function et(t){return Q(Y,t)}var nt={value:()=>{}};function rt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new it(r)}function it(t){this._=t}function at(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ot(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function st(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=nt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}it.prototype=rt.prototype={constructor:it,on:function(t,e){var n,r=this._,i=at(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=st(r[n],t.name,e);else if(null==e)for(n in r)r[n]=st(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=ot(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new it(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var ut=rt;function lt(){}var ct=function(t){return null==t?lt:function(){return this.querySelector(t)}},ht=function(t){"function"!==typeof t&&(t=ct(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new an(r,this._parents)},ft=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function dt(){return[]}var mt=function(t){return null==t?dt:function(){return this.querySelectorAll(t)}};function pt(t){return function(){var e=t.apply(this,arguments);return null==e?[]:ft(e)}}var gt=function(t){t="function"===typeof t?pt(t):mt(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new an(r,i)},vt=function(t){return function(){return this.matches(t)}};function yt(t){return function(e){return e.matches(t)}}var wt=Array.prototype.find;function bt(t){return function(){return wt.call(this.children,t)}}function _t(){return this.firstElementChild}var xt=function(t){return this.select(null==t?_t:bt("function"===typeof t?t:yt(t)))},Mt=Array.prototype.filter;function kt(){return this.children}function At(t){return function(){return Mt.call(this.children,t)}}var Nt=function(t){return this.selectAll(null==t?kt:At("function"===typeof t?t:yt(t)))},Et=function(t){"function"!==typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new an(r,this._parents)},St=function(t){return new Array(t.length)},Ct=function(){return new an(this._enter||this._groups.map(St),this._parents)};function Tt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var zt=function(t){return function(){return t}};function jt(t,e,n,r,i,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Tt(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function $t(t,e,n,r,i,a,o){var s,u,l,c=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=o.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=o.call(t,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new Tt(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function Bt(t){return t.__data__}var It=function(t,e){if(!arguments.length)return Array.from(this,Bt);var n=e?$t:jt,r=this._parents,i=this._groups;"function"!==typeof t&&(t=zt(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=ft(t.call(c,c&&c.__data__,l,r)),m=d.length,p=s[l]=new Array(m),g=o[l]=new Array(m),v=u[l]=new Array(f);n(c,h,p,g,v,d,e);for(var y,w,b=0,_=0;b<m;++b)if(y=p[b]){b>=_&&(_=b+1);while(!(w=g[_])&&++_<m);y._next=w||null}}return o=new an(o,r),o._enter=s,o._exit=u,o},Ot=function(){return new an(this._exit||this._groups.map(St),this._parents)},Ft=function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},Pt=function(t){if(!(t instanceof an))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=e[s];return new an(o,this._parents)},Dt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},Rt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ht);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new an(i,this._parents).order()};function Ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Vt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Wt=function(){return Array.from(this)},qt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},Lt=function(){let t=0;for(const e of this)++t;return t},Yt=function(){return!this.node()},Ut=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},Xt="http://www.w3.org/1999/xhtml",Gt={svg:"http://www.w3.org/2000/svg",xhtml:Xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Gt.hasOwnProperty(e)?{space:Gt[e],local:t}:t};function Kt(t){return function(){this.removeAttribute(t)}}function Zt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qt(t,e){return function(){this.setAttribute(t,e)}}function te(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ee(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ne(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var re=function(t,e){var n=Jt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Zt:Kt:"function"===typeof e?n.local?ne:ee:n.local?te:Qt)(n,e))},ie=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ae(t){return function(){this.style.removeProperty(t)}}function oe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function se(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var ue=function(t,e,n){return arguments.length>1?this.each((null==e?ae:"function"===typeof e?se:oe)(t,e,null==n?"":n)):le(this.node(),t)};function le(t,e){return t.style.getPropertyValue(e)||ie(t).getComputedStyle(t,null).getPropertyValue(e)}function ce(t){return function(){delete this[t]}}function he(t,e){return function(){this[t]=e}}function fe(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var de=function(t,e){return arguments.length>1?this.each((null==e?ce:"function"===typeof e?fe:he)(t,e)):this.node()[t]};function me(t){return t.trim().split(/^|\s+/)}function pe(t){return t.classList||new ge(t)}function ge(t){this._node=t,this._names=me(t.getAttribute("class")||"")}function ve(t,e){var n=pe(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function ye(t,e){var n=pe(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function we(t){return function(){ve(this,t)}}function be(t){return function(){ye(this,t)}}function _e(t,e){return function(){(e.apply(this,arguments)?ve:ye)(this,t)}}ge.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xe=function(t,e){var n=me(t+"");if(arguments.length<2){var r=pe(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?_e:e?we:be)(n,e))};function Me(){this.textContent=""}function ke(t){return function(){this.textContent=t}}function Ae(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var Ne=function(t){return arguments.length?this.each(null==t?Me:("function"===typeof t?Ae:ke)(t)):this.node().textContent};function Ee(){this.innerHTML=""}function Se(t){return function(){this.innerHTML=t}}function Ce(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Te=function(t){return arguments.length?this.each(null==t?Ee:("function"===typeof t?Ce:Se)(t)):this.node().innerHTML};function ze(){this.nextSibling&&this.parentNode.appendChild(this)}var je=function(){return this.each(ze)};function $e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Be=function(){return this.each($e)};function Ie(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xt&&e.documentElement.namespaceURI===Xt?e.createElement(t):e.createElementNS(n,t)}}function Oe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Fe=function(t){var e=Jt(t);return(e.local?Oe:Ie)(e)},Pe=function(t){var e="function"===typeof t?t:Fe(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function De(){return null}var Re=function(t,e){var n="function"===typeof t?t:Fe(t),r=null==e?De:"function"===typeof e?e:ct(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function He(){var t=this.parentNode;t&&t.removeChild(this)}var Ve=function(){return this.each(He)};function We(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Le=function(t){return this.select(t?qe:We)},Ye=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function Ue(t){return function(e){t.call(this,e,this.__data__)}}function Xe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ge(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Je(t,e,n){return function(){var r,i=this.__on,a=Ue(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var Ke=function(t,e,n){var r,i,a=Xe(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Je:Ge,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value};function Ze(t,e,n){var r=ie(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Qe(t,e){return function(){return Ze(this,t,e)}}function tn(t,e){return function(){return Ze(this,t,e.apply(this,arguments))}}var en=function(t,e){return this.each(("function"===typeof e?tn:Qe)(t,e))},nn=function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)},rn=[null];function an(t,e){this._groups=t,this._parents=e}function on(){return new an([[document.documentElement]],rn)}function sn(){return this}an.prototype=on.prototype={constructor:an,select:ht,selectAll:gt,selectChild:xt,selectChildren:Nt,filter:Et,data:It,enter:Ct,exit:Ot,join:Ft,merge:Pt,selection:sn,order:Dt,sort:Rt,call:Vt,nodes:Wt,node:qt,size:Lt,empty:Yt,each:Ut,attr:re,style:ue,property:de,classed:xe,text:Ne,html:Te,raise:je,lower:Be,append:Pe,insert:Re,remove:Ve,clone:Le,datum:Ye,on:Ke,dispatch:en,[Symbol.iterator]:nn};var un=on,ln=function(t){return"string"===typeof t?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],rn)};var cn=function(t){t.preventDefault(),t.stopImmediatePropagation()},hn=function(t){var e=t.document.documentElement,n=ln(t).on("dragstart.drag",cn,!0);"onselectstart"in e?n.on("selectstart.drag",cn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function fn(t,e){var n=t.document.documentElement,r=ln(t).on("dragstart.drag",null);e&&(r.on("click.drag",cn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var dn=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function mn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pn(){}var gn=.7,vn=1/gn,yn="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_n=/^#([0-9a-f]{3,8})$/,xn=new RegExp("^rgb\\("+[yn,yn,yn]+"\\)$"),Mn=new RegExp("^rgb\\("+[bn,bn,bn]+"\\)$"),kn=new RegExp("^rgba\\("+[yn,yn,yn,wn]+"\\)$"),An=new RegExp("^rgba\\("+[bn,bn,bn,wn]+"\\)$"),Nn=new RegExp("^hsl\\("+[wn,bn,bn]+"\\)$"),En=new RegExp("^hsla\\("+[wn,bn,bn,wn]+"\\)$"),Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Cn(){return this.rgb().formatHex()}function Tn(){return Vn(this).formatHsl()}function zn(){return this.rgb().formatRgb()}function jn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_n.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?$n(e):3===n?new Fn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xn.exec(t))?new Fn(e[1],e[2],e[3],1):(e=Mn.exec(t))?new Fn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kn.exec(t))?Bn(e[1],e[2],e[3],e[4]):(e=An.exec(t))?Bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Nn.exec(t))?Hn(e[1],e[2]/100,e[3]/100,1):(e=En.exec(t))?Hn(e[1],e[2]/100,e[3]/100,e[4]):Sn.hasOwnProperty(t)?$n(Sn[t]):"transparent"===t?new Fn(NaN,NaN,NaN,0):null}function $n(t){return new Fn(t>>16&255,t>>8&255,255&t,1)}function Bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fn(t,e,n,r)}function In(t){return t instanceof pn||(t=jn(t)),t?(t=t.rgb(),new Fn(t.r,t.g,t.b,t.opacity)):new Fn}function On(t,e,n,r){return 1===arguments.length?In(t):new Fn(t,e,n,null==r?1:r)}function Fn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Pn(){return"#"+Rn(this.r)+Rn(this.g)+Rn(this.b)}function Dn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Hn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qn(t,e,n,r)}function Vn(t){if(t instanceof qn)return new qn(t.h,t.s,t.l,t.opacity);if(t instanceof pn||(t=jn(t)),!t)return new qn;if(t instanceof qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new qn(o,s,u,t.opacity)}function Wn(t,e,n,r){return 1===arguments.length?Vn(t):new qn(t,e,n,null==r?1:r)}function qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ln(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Yn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}dn(pn,jn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Cn,formatHex:Cn,formatHsl:Tn,formatRgb:zn,toString:zn}),dn(Fn,On,mn(pn,{brighter:function(t){return t=null==t?vn:Math.pow(vn,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?gn:Math.pow(gn,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pn,formatHex:Pn,formatRgb:Dn,toString:Dn})),dn(qn,Wn,mn(pn,{brighter:function(t){return t=null==t?vn:Math.pow(vn,t),new qn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?gn:Math.pow(gn,t),new qn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fn(Ln(t>=240?t-240:t+120,i,r),Ln(t,i,r),Ln(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Un=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Yn((n-r/e)*e,o,i,a,s)}},Xn=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Yn((n-r/e)*e,i,a,o,s)}},Gn=t=>()=>t;function Jn(t,e){return function(n){return t+n*e}}function Kn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zn(t,e){var n=e-t;return n?Jn(t,n>180||n<-180?n-360*Math.round(n/360):n):Gn(isNaN(t)?e:t)}function Qn(t){return 1===(t=+t)?tr:function(e,n){return n-e?Kn(e,n,t):Gn(isNaN(e)?n:e)}}function tr(t,e){var n=e-t;return n?Jn(t,n):Gn(isNaN(t)?e:t)}var er=function t(e){var n=Qn(e);function r(t,e){var r=n((t=On(t)).r,(e=On(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=tr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function nr(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=On(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}nr(Un),nr(Xn);var rr=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}};function ir(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ar(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=gr(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}var or=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},sr=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},ur=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=gr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},lr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cr=new RegExp(lr.source,"g");function hr(t){return function(){return t}}function fr(t){return function(e){return t(e)+""}}var dr,mr,pr=function(t,e){var n,r,i,a=lr.lastIndex=cr.lastIndex=0,o=-1,s=[],u=[];t+="",e+="";while((n=lr.exec(t))&&(r=cr.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:sr(n,r)})),a=cr.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?fr(u[0].x):hr(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},gr=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Gn(e):("number"===r?sr:"string"===r?(n=jn(e))?(e=n,er):pr:e instanceof jn?er:e instanceof Date?or:ir(e)?rr:Array.isArray(e)?ar:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ur:sr)(t,e)},vr=function(t){let e;while(e=t.sourceEvent)t=e;return t},yr=function(t,e){if(t=vr(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]},wr=0,br=0,_r=0,xr=1e3,Mr=0,kr=0,Ar=0,Nr="object"===typeof performance&&performance.now?performance:Date,Er="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sr(){return kr||(Er(Cr),kr=Nr.now()+Ar)}function Cr(){kr=0}function Tr(){this._call=this._time=this._next=null}function zr(t,e,n){var r=new Tr;return r.restart(t,e,n),r}function jr(){Sr(),++wr;var t,e=dr;while(e)(t=kr-e._time)>=0&&e._call.call(null,t),e=e._next;--wr}function $r(){kr=(Mr=Nr.now())+Ar,wr=br=0;try{jr()}finally{wr=0,Ir(),kr=0}}function Br(){var t=Nr.now(),e=t-Mr;e>xr&&(Ar-=e,Mr=t)}function Ir(){var t,e,n=dr,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:dr=e);mr=t,Or(r)}function Or(t){if(!wr){br&&(br=clearTimeout(br));var e=t-kr;e>24?(t<1/0&&(br=setTimeout($r,t-Nr.now()-Ar)),_r&&(_r=clearInterval(_r))):(_r||(Mr=Nr.now(),_r=setInterval(Br,xr)),wr=1,Er($r))}}Tr.prototype=zr.prototype={constructor:Tr,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Sr():+n)+(null==e?0:+e),this._next||mr===this||(mr?mr._next=this:dr=this,mr=this),this._call=t,this._time=n,Or()},stop:function(){this._call&&(this._call=null,this._time=1/0,Or())}};var Fr=function(t,e,n){var r=new Tr;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r},Pr=ut("start","end","cancel","interrupt"),Dr=[],Rr=0,Hr=1,Vr=2,Wr=3,qr=4,Lr=5,Yr=6,Ur=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Kr(t,n,{name:e,index:r,group:i,on:Pr,tween:Dr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Rr})};function Xr(t,e){var n=Jr(t,e);if(n.state>Rr)throw new Error("too late; already scheduled");return n}function Gr(t,e){var n=Jr(t,e);if(n.state>Wr)throw new Error("too late; already running");return n}function Jr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kr(t,e,n){var r,i=t.__transition;function a(t){n.state=Hr,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,c,h,f;if(n.state!==Hr)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===Wr)return Fr(o);f.state===qr?(f.state=Yr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Yr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Fr((function(){n.state===Wr&&(n.state=qr,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Vr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Vr){for(n.state=Wr,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Lr,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);n.state===Lr&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Yr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=zr(a,0,n.time)}var Zr,Qr=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Vr&&n.state<Lr,n.state=Yr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},ti=function(t){return this.each((function(){Qr(this,t)}))},ei=180/Math.PI,ni={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ri=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*ei,skewX:Math.atan(u)*ei,scaleX:o,scaleY:s}};function ii(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ni:ri(e.a,e.b,e.c,e.d,e.e,e.f)}function ai(t){return null==t?ni:(Zr||(Zr=document.createElementNS("http://www.w3.org/2000/svg","g")),Zr.setAttribute("transform",t),(t=Zr.transform.baseVal.consolidate())?(t=t.matrix,ri(t.a,t.b,t.c,t.d,t.e,t.f)):ni)}function oi(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:sr(t,i)},{i:u-2,x:sr(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:sr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:sr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:sr(t,n)},{i:s-2,x:sr(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var si=oi(ii,"px, ","px)","deg)"),ui=oi(ai,", ",")",")");function li(t,e){var n,r;return function(){var i=Gr(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ci(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Gr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}var hi=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Jr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?li:ci)(n,t,e))};function fi(t,e,n){var r=t._id;return t.each((function(){var t=Gr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Jr(t,r).value[e]}}var di=function(t,e){var n;return("number"===typeof e?sr:e instanceof jn?er:(n=jn(e))?(e=n,er):pr)(t,e)};function mi(t){return function(){this.removeAttribute(t)}}function pi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gi(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function vi(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function yi(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttribute(t),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function wi(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttributeNS(t.space,t.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}var bi=function(t,e){var n=Jt(t),r="transform"===n?ui:di;return this.attrTween(t,"function"===typeof e?(n.local?wi:yi)(n,r,fi(this,"attr."+t,e)):null==e?(n.local?pi:mi)(n):(n.local?vi:gi)(n,r,e))};function _i(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Mi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&xi(t,i)),n}return i._value=e,i}function ki(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_i(t,i)),n}return i._value=e,i}var Ai=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Jt(t);return this.tween(n,(r.local?Mi:ki)(r,e))};function Ni(t,e){return function(){Xr(this,t).delay=+e.apply(this,arguments)}}function Ei(t,e){return e=+e,function(){Xr(this,t).delay=e}}var Si=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ni:Ei)(e,t)):Jr(this.node(),e).delay};function Ci(t,e){return function(){Gr(this,t).duration=+e.apply(this,arguments)}}function Ti(t,e){return e=+e,function(){Gr(this,t).duration=e}}var zi=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ci:Ti)(e,t)):Jr(this.node(),e).duration};function ji(t,e){if("function"!==typeof e)throw new Error;return function(){Gr(this,t).ease=e}}var $i=function(t){var e=this._id;return arguments.length?this.each(ji(e,t)):Jr(this.node(),e).ease};function Bi(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Gr(this,t).ease=n}}var Ii=function(t){if("function"!==typeof t)throw new Error;return this.each(Bi(this._id,t))},Oi=function(t){"function"!==typeof t&&(t=vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new ha(r,this._parents,this._name,this._id)},Fi=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=e[s];return new ha(o,this._parents,this._name,this._id)};function Pi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Di(t,e,n){var r,i,a=Pi(e)?Xr:Gr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Ri=function(t,e){var n=this._id;return arguments.length<2?Jr(this.node(),n).on.on(t):this.each(Di(n,t,e))};function Hi(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Vi=function(){return this.on("end.remove",Hi(this._id))},Wi=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ct(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Ur(h[f],e,n,f,h,Jr(s,n)));return new ha(a,this._parents,e,n)},qi=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),m=Jr(u,n),p=0,g=d.length;p<g;++p)(f=d[p])&&Ur(f,e,n,p,d,m);a.push(d),o.push(u)}return new ha(a,o,e,n)},Li=un.prototype.constructor,Yi=function(){return new Li(this._groups,this._parents)};function Ui(t,e){var n,r,i;return function(){var a=le(this,t),o=(this.style.removeProperty(t),le(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Xi(t){return function(){this.style.removeProperty(t)}}function Gi(t,e,n){var r,i,a=n+"";return function(){var o=le(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function Ji(t,e,n){var r,i,a;return function(){var o=le(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=le(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Ki(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=Gr(this,t),l=u.on,c=null==u.value[o]?a||(a=Xi(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}var Zi=function(t,e,n){var r="transform"===(t+="")?si:di;return null==e?this.styleTween(t,Ui(t,r)).on("end.style."+t,Xi(t)):"function"===typeof e?this.styleTween(t,Ji(t,r,fi(this,"style."+t,e))).each(Ki(this._id,t)):this.styleTween(t,Gi(t,r,e),n).on("end.style."+t,null)};function Qi(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ta(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Qi(t,a,n)),r}return a._value=e,a}var ea=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,ta(t,e,null==n?"":n))};function na(t){return function(){this.textContent=t}}function ra(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var ia=function(t){return this.tween("text","function"===typeof t?ra(fi(this,"text",t)):na(null==t?"":t+""))};function aa(t){return function(e){this.textContent=t.call(this,e)}}function oa(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&aa(r)),e}return r._value=t,r}var sa=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,oa(t))},ua=function(){for(var t=this._name,e=this._id,n=da(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Jr(o,e);Ur(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ha(r,this._parents,t,n)},la=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=Gr(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&a()}))},ca=0;function ha(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fa(t){return un().transition(t)}function da(){return++ca}var ma=un.prototype;function pa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ha.prototype=fa.prototype={constructor:ha,select:Wi,selectAll:qi,filter:Oi,merge:Fi,selection:Yi,transition:ua,call:ma.call,nodes:ma.nodes,node:ma.node,size:ma.size,empty:ma.empty,each:ma.each,on:Ri,attr:bi,attrTween:Ai,style:Zi,styleTween:ea,text:ia,textTween:sa,remove:Vi,tween:hi,delay:Si,duration:zi,ease:$i,easeVarying:Ii,end:la,[Symbol.iterator]:ma[Symbol.iterator]};var ga={time:null,delay:0,duration:250,ease:pa};function va(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}var ya=function(t){var e,n;t instanceof ha?(e=t._id,t=t._name):(e=da(),(n=ga).time=Sr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Ur(o,t,e,l,s,n||va(o,e));return new ha(r,this._parents,t,e)};un.prototype.interrupt=ti,un.prototype.transition=ya;var wa=t=>()=>t;function ba(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function _a(t){t.stopImmediatePropagation()}var xa=function(t){t.preventDefault(),t.stopImmediatePropagation()},Ma={name:"drag"},ka={name:"space"},Aa={name:"handle"},Na={name:"center"};const{abs:Ea,max:Sa,min:Ca}=Math;function Ta(t){return[+t[0],+t[1]]}function za(t){return[Ta(t[0]),Ta(t[1])]}var ja={name:"x",handles:["w","e"].map(Da),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$a={name:"y",handles:["n","s"].map(Da),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ba=(["n","w","e","s","nw","ne","sw","se"].map(Da),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Ia={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Oa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Pa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Da(t){return{type:t}}function Ra(t){return!t.ctrlKey&&!t.button}function Ha(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Va(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wa(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function qa(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function La(){return Ya($a)}function Ya(t){var e,n=Ha,r=Ra,i=Va,a=!0,o=ut("start","brush","end"),s=6;function u(e){var n=e.property("__brush",p).selectAll(".overlay").data([Da("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ba.overlay).merge(n).each((function(){var t=Wa(this).extent;ln(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Da("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ba.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ba[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=ln(this),e=Wa(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(n){if((!e||n.touches)&&r.apply(this,arguments)){var i,o,s,u,h,f,d,m,p,g,v,y=this,w=n.target.__data__.type,b="selection"===(a&&n.metaKey?w="overlay":w)?Ma:a&&n.altKey?Na:Aa,_=t===$a?null:Fa[w],x=t===ja?null:Pa[w],M=Wa(y),k=M.extent,A=M.selection,N=k[0][0],E=k[0][1],S=k[1][0],C=k[1][1],T=0,z=0,j=_&&x&&a&&n.shiftKey,$=Array.from(n.touches||[n],t=>{const e=t.identifier;return t=yr(t,y),t.point0=t.slice(),t.identifier=e,t});if("overlay"===w){A&&(p=!0);const e=[$[0],$[1]||$[0]];M.selection=A=[[i=t===$a?N:Ca(e[0][0],e[1][0]),s=t===ja?E:Ca(e[0][1],e[1][1])],[h=t===$a?S:Sa(e[0][0],e[1][0]),d=t===ja?C:Sa(e[0][1],e[1][1])]],$.length>1&&D()}else i=A[0][0],s=A[0][1],h=A[1][0],d=A[1][1];o=i,u=s,f=h,m=d;var B=ln(y).attr("pointer-events","none"),I=B.selectAll(".overlay").attr("cursor",Ba[w]);Qr(y);var O=c(y,arguments,!0).beforestart();if(n.touches)O.moved=P,O.ended=R;else{var F=ln(n.view).on("mousemove.brush",P,!0).on("mouseup.brush",R,!0);a&&F.on("keydown.brush",H,!0).on("keyup.brush",V,!0),hn(n.view)}l.call(y),O.start(n,b.name)}function P(t){for(const e of t.changedTouches||[t])for(const t of $)t.identifier===e.identifier&&(t.cur=yr(e,y));if(j&&!g&&!v&&1===$.length){const t=$[0];Ea(t.cur[0]-t[0])>Ea(t.cur[1]-t[1])?v=!0:g=!0}for(const e of $)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);p=!0,xa(t),D(t)}function D(t){const e=$[0],n=e.point0;var r;switch(T=e[0]-n[0],z=e[1]-n[1],b){case ka:case Ma:_&&(T=Sa(N-i,Ca(S-h,T)),o=i+T,f=h+T),x&&(z=Sa(E-s,Ca(C-d,z)),u=s+z,m=d+z);break;case Aa:$[1]?(_&&(o=Sa(N,Ca(S,$[0][0])),f=Sa(N,Ca(S,$[1][0])),_=1),x&&(u=Sa(E,Ca(C,$[0][1])),m=Sa(E,Ca(C,$[1][1])),x=1)):(_<0?(T=Sa(N-i,Ca(S-i,T)),o=i+T,f=h):_>0&&(T=Sa(N-h,Ca(S-h,T)),o=i,f=h+T),x<0?(z=Sa(E-s,Ca(C-s,z)),u=s+z,m=d):x>0&&(z=Sa(E-d,Ca(C-d,z)),u=s,m=d+z));break;case Na:_&&(o=Sa(N,Ca(S,i-T*_)),f=Sa(N,Ca(S,h+T*_))),x&&(u=Sa(E,Ca(C,s-z*x)),m=Sa(E,Ca(C,d+z*x)));break}f<o&&(_*=-1,r=i,i=h,h=r,r=o,o=f,f=r,w in Ia&&I.attr("cursor",Ba[w=Ia[w]])),m<u&&(x*=-1,r=s,s=d,d=r,r=u,u=m,m=r,w in Oa&&I.attr("cursor",Ba[w=Oa[w]])),M.selection&&(A=M.selection),g&&(o=A[0][0],f=A[1][0]),v&&(u=A[0][1],m=A[1][1]),A[0][0]===o&&A[0][1]===u&&A[1][0]===f&&A[1][1]===m||(M.selection=[[o,u],[f,m]],l.call(y),O.brush(t,b.name))}function R(t){if(_a(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else fn(t.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),I.attr("cursor",Ba.overlay),M.selection&&(A=M.selection),qa(A)&&(M.selection=null,l.call(y)),O.end(t,b.name)}function H(t){switch(t.keyCode){case 16:j=_&&x;break;case 18:b===Aa&&(_&&(h=f-T*_,i=o+T*_),x&&(d=m-z*x,s=u+z*x),b=Na,D());break;case 32:b!==Aa&&b!==Na||(_<0?h=f-T:_>0&&(i=o-T),x<0?d=m-z:x>0&&(s=u-z),b=ka,I.attr("cursor",Ba.selection),D());break;default:return}xa(t)}function V(t){switch(t.keyCode){case 16:j&&(g=v=j=!1,D());break;case 18:b===Na&&(_<0?h=f:_>0&&(i=o),x<0?d=m:x>0&&(s=u),b=Aa,D());break;case 32:b===ka&&(t.altKey?(_&&(h=f-T*_,i=o+T*_),x&&(d=m-z*x,s=u+z*x),b=Na):(_<0?h=f:_>0&&(i=o),x<0?d=m:x>0&&(s=u),b=Aa),I.attr("cursor",Ba[w]),D());break;default:return}xa(t)}}function d(t){c(this,arguments).moved(t)}function m(t){c(this,arguments).ended(t)}function p(){var e=this.__brush||{selection:null};return e.extent=za(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.tween?e.on("start.brush",(function(t){c(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){c(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,i=c(e,arguments),a=r.selection,o=t.input("function"===typeof n?n.apply(this,arguments):n,r.extent),s=gr(a,o);function u(t){r.selection=1===t&&null===o?null:s(t),l.call(e),i.brush()}return null!==a&&null!==o?u:u(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"===typeof n?n.apply(e,r):n,i.extent),o=c(e,r).beforestart();Qr(e),i.selection=null===a?null:a,l.call(e),o.start().brush().end()}))},u.clear=function(t){u.move(t,null)},h.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0===--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var i=ln(this.that).datum();o.call(e,this.that,new ba(e,{sourceEvent:n,target:u,selection:t.output(this.state.selection),mode:r,dispatch:o}),i)}},u.extent=function(t){return arguments.length?(n="function"===typeof t?t:wa(za(t)),u):n},u.filter=function(t){return arguments.length?(r="function"===typeof t?t:wa(!!t),u):r},u.touchable=function(t){return arguments.length?(i="function"===typeof t?t:wa(!!t),u):i},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(a=!!t,u):a},u.on=function(){var t=o.on.apply(o,arguments);return t===o?u:t},u}var Ua={},Xa={},Ga=34,Ja=10,Ka=13;function Za(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Qa(t,e){var n=Za(t);return function(r,i){return e(n(r),i,t)}}function to(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function eo(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function no(t){return t<0?"-"+eo(-t,6):t>9999?"+"+eo(t,6):eo(t,4)}function ro(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":no(t.getUTCFullYear(),4)+"-"+eo(t.getUTCMonth()+1,2)+"-"+eo(t.getUTCDate(),2)+(i?"T"+eo(e,2)+":"+eo(n,2)+":"+eo(r,2)+"."+eo(i,3)+"Z":r?"T"+eo(e,2)+":"+eo(n,2)+":"+eo(r,2)+"Z":n||e?"T"+eo(e,2)+":"+eo(n,2)+"Z":"")}var io=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,a=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?Qa(t,e):Za(t)}));return a.columns=r||[],a}function i(t,e){var r,i=[],a=t.length,o=0,s=0,u=a<=0,l=!1;function c(){if(u)return Xa;if(l)return l=!1,Ua;var e,r,i=o;if(t.charCodeAt(i)===Ga){while(o++<a&&t.charCodeAt(o)!==Ga||t.charCodeAt(++o)===Ga);return(e=o)>=a?u=!0:(r=t.charCodeAt(o++))===Ja?l=!0:r===Ka&&(l=!0,t.charCodeAt(o)===Ja&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}while(o<a){if((r=t.charCodeAt(e=o++))===Ja)l=!0;else if(r===Ka)l=!0,t.charCodeAt(o)===Ja&&++o;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,a)}t.charCodeAt(a-1)===Ja&&--a,t.charCodeAt(a-1)===Ka&&--a;while((r=c())!==Xa){var h=[];while(r!==Ua&&r!==Xa)h.push(r),r=c();e&&null==(h=e(h,s++))||i.push(h)}return i}function a(e,n){return e.map((function(e){return n.map((function(t){return c(e[t])})).join(t)}))}function o(e,n){return null==n&&(n=to(e)),[n.map(c).join(t)].concat(a(e,n)).join("\n")}function s(t,e){return null==e&&(e=to(t)),a(t,e).join("\n")}function u(t){return t.map(l).join("\n")}function l(e){return e.map(c).join(t)}function c(t){return null==t?"":t instanceof Date?ro(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:l,formatValue:c}},ao=io(","),oo=ao.parse,so=(ao.parseRows,ao.format,ao.formatBody,ao.formatRows,ao.formatRow,ao.formatValue,io("\t")),uo=so.parse;so.parseRows,so.format,so.formatBody,so.formatRows,so.formatRow,so.formatValue;function lo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var co=function(t,e){return fetch(t,e).then(lo)};function ho(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),co(e,n).then((function(e){return t(e,r)}))}}var fo=ho(oo);ho(uo);function mo(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}var po=function(){return this.eachAfter(mo)},go=function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},vo=function(t,e){var n,r,i=this,a=[i],o=-1;while(i=a.pop())if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},yo=function(t,e){var n,r,i,a=this,o=[a],s=[],u=-1;while(a=o.pop())if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);while(a=s.pop())t.call(e,a,++u,this);return this},wo=function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},bo=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))},_o=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},xo=function(t){var e=this,n=Mo(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r};function Mo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}var ko=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},Ao=function(){return Array.from(this)},No=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},Eo=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},So=function*(){var t,e,n,r,i=this,a=[i];do{t=a.reverse(),a=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n])}while(a.length)};function Co(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=jo)):void 0===e&&(e=zo);var n,r,i,a,o,s=new Io(t),u=[s];while(n=u.pop())if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)u.push(r=i[a]=new Io(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Bo)}function To(){return Co(this).eachBefore($o)}function zo(t){return t.children}function jo(t){return Array.isArray(t)?t[1]:null}function $o(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Bo(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Io(t){this.data=t,this.depth=this.height=0,this.parent=null}Io.prototype=Co.prototype={constructor:Io,count:po,each:go,eachAfter:yo,eachBefore:vo,find:wo,sum:bo,sort:_o,path:xo,ancestors:ko,descendants:Ao,leaves:No,links:Eo,copy:To,[Symbol.iterator]:So};var Oo=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function Fo(t){var e,n,r=t.length;while(r)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}var Po=function(t){var e,n,r=0,i=(t=Fo(Array.from(t))).length,a=[];while(r<i)e=t[r],n&&Ho(n,e)?++r:(n=Wo(a=Do(a,e)),r=0);return n};function Do(t,e){var n,r;if(Vo(e,t))return[e];for(n=0;n<t.length;++n)if(Ro(e,t[n])&&Vo(Lo(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ro(Lo(t[n],t[r]),e)&&Ro(Lo(t[n],e),t[r])&&Ro(Lo(t[r],e),t[n])&&Vo(Yo(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ro(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Ho(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Vo(t,e){for(var n=0;n<e.length;++n)if(!Ho(t,e[n]))return!1;return!0}function Wo(t){switch(t.length){case 1:return qo(t[0]);case 2:return Lo(t[0],t[1]);case 3:return Yo(t[0],t[1],t[2])}}function qo(t){return{x:t.x,y:t.y,r:t.r}}function Lo(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,l=o-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+a+u/h*c)/2,y:(r+o+l/h*c)/2,r:(h+i+s)/2}}function Yo(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-o,d=r-l,m=i-s,p=i-c,g=u-a,v=h-a,y=r*r+i*i-a*a,w=y-o*o-s*s+u*u,b=y-l*l-c*c+h*h,_=d*m-f*p,x=(m*b-p*w)/(2*_)-r,M=(p*g-m*v)/_,k=(d*w-f*b)/(2*_)-i,A=(f*v-d*g)/_,N=M*M+A*A-1,E=2*(a+x*M+k*A),S=x*x+k*k-a*a,C=-(N?(E+Math.sqrt(E*E-4*N*S))/(2*N):S/E);return{x:r+x+M*C,y:i+k+A*C,r:C}}function Uo(t,e,n){var r,i,a,o,s=t.x-e.x,u=t.y-e.y,l=s*s+u*u;l?(i=e.r+n.r,i*=i,o=t.r+n.r,o*=o,i>o?(r=(l+o-i)/(2*l),a=Math.sqrt(Math.max(0,o/l-r*r)),n.x=t.x-r*s-a*u,n.y=t.y-r*u+a*s):(r=(l+i-o)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-a*u,n.y=e.y+r*u+a*s)):(n.x=e.x+n.r,n.y=e.y)}function Xo(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Go(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Jo(t){this._=t,this.next=null,this.previous=null}function Ko(t){if(!(i=(t=Oo(t)).length))return 0;var e,n,r,i,a,o,s,u,l,c,h;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Uo(n,e,r=t[2]),e=new Jo(e),n=new Jo(n),r=new Jo(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Uo(e._,n._,r=t[s]),r=new Jo(r),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(Xo(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(Xo(l._,r._)){e=l,e.next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);r.previous=e,r.next=n,e.next=n.previous=n=r,a=Go(e);while((r=r.next)!==n)(o=Go(r))<a&&(e=r,a=o);n=e.next}e=[n._],r=n;while((r=r.next)!==n)e.push(r._);for(r=Po(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function Zo(t){return null==t?null:Qo(t)}function Qo(t){if("function"!==typeof t)throw new Error;return t}function ts(){return 0}var es=function(t){return function(){return t}};function ns(t){return Math.sqrt(t.value)}var rs=function(){var t=null,e=1,n=1,r=ts;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(is(t)).eachAfter(as(r,.5)).eachBefore(os(1)):i.eachBefore(is(ns)).eachAfter(as(ts,1)).eachAfter(as(r,i.r/Math.min(e,n))).eachBefore(os(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Zo(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:es(+t),i):r},i};function is(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function as(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Ko(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function os(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var ss=1e-12;function us(t){return((t=Math.exp(t))+1/t)/2}function ls(t){return((t=Math.exp(t))-1/t)/2}function cs(t){return((t=Math.exp(2*t))-1)/(t+1)}var hs=function t(e,n,r){function i(t,i){var a,o,s=t[0],u=t[1],l=t[2],c=i[0],h=i[1],f=i[2],d=c-s,m=h-u,p=d*d+m*m;if(p<ss)o=Math.log(f/l)/e,a=function(t){return[s+t*d,u+t*m,l*Math.exp(e*t*o)]};else{var g=Math.sqrt(p),v=(f*f-l*l+r*p)/(2*l*n*g),y=(f*f-l*l-r*p)/(2*f*n*g),w=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);o=(b-w)/e,a=function(t){var r=t*o,i=us(w),a=l/(n*g)*(i*cs(e*r+w)-ls(w));return[s+a*d,u+a*m,l*i/us(e*r+w)]}}return a.duration=1e3*o*e/Math.SQRT2,a}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4);const fs=Math.PI/180,ds=180/Math.PI,ms=18,ps=.96422,gs=1,vs=.82521,ys=4/29,ws=6/29,bs=3*ws*ws,_s=ws*ws*ws;function xs(t){if(t instanceof ks)return new ks(t.l,t.a,t.b,t.opacity);if(t instanceof zs)return js(t);t instanceof Fn||(t=In(t));var e,n,r=Ss(t.r),i=Ss(t.g),a=Ss(t.b),o=As((.2225045*r+.7168786*i+.0606169*a)/gs);return r===i&&i===a?e=n=o:(e=As((.4360747*r+.3850649*i+.1430804*a)/ps),n=As((.0139322*r+.0971045*i+.7141733*a)/vs)),new ks(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Ms(t,e,n,r){return 1===arguments.length?xs(t):new ks(t,e,n,null==r?1:r)}function ks(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function As(t){return t>_s?Math.pow(t,1/3):t/bs+ys}function Ns(t){return t>ws?t*t*t:bs*(t-ys)}function Es(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ss(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Cs(t){if(t instanceof zs)return new zs(t.h,t.c,t.l,t.opacity);if(t instanceof ks||(t=xs(t)),0===t.a&&0===t.b)return new zs(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*ds;return new zs(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ts(t,e,n,r){return 1===arguments.length?Cs(t):new zs(t,e,n,null==r?1:r)}function zs(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function js(t){if(isNaN(t.h))return new ks(t.l,0,0,t.opacity);var e=t.h*fs;return new ks(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function $s(t){return function(e,n){var r=t((e=Ts(e)).h,(n=Ts(n)).h),i=tr(e.c,n.c),a=tr(e.l,n.l),o=tr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}dn(ks,Ms,mn(pn,{brighter:function(t){return new ks(this.l+ms*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ks(this.l-ms*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ps*Ns(e),t=gs*Ns(t),n=vs*Ns(n),new Fn(Es(3.1338561*e-1.6168667*t-.4906146*n),Es(-.9787684*e+1.9161415*t+.033454*n),Es(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),dn(zs,Ts,mn(pn,{brighter:function(t){return new zs(this.h,this.c,this.l+ms*(null==t?1:t),this.opacity)},darker:function(t){return new zs(this.h,this.c,this.l-ms*(null==t?1:t),this.opacity)},rgb:function(){return js(this).rgb()}}));var Bs=$s(Zn),Is=($s(tr),function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);while(++r<i)a[r]=t+r*n;return a});function Os(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Fs=Symbol("implicit");function Ps(){var t=new Map,e=[],n=[],r=Fs;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==Fs)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ps(e,n).unknown(r)},Os.apply(i,arguments),i}function Ds(){var t,e,n=Ps().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,u=0,l=0,c=.5;function h(){var n=r().length,h=o<a,f=h?o:a,d=h?a:o;t=(d-f)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*c,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var m=Is(n).map((function(e){return f+t*e}));return i(h?m.reverse():m)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,h()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,l=+t),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},n.paddingOuter=function(t){return arguments.length?(l=+t,h()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.copy=function(){return Ds(r(),[a,o]).round(s).paddingInner(u).paddingOuter(l).align(c)},Os.apply(h(),arguments)}var Rs=Math.sqrt(50),Hs=Math.sqrt(10),Vs=Math.sqrt(2),Ws=function(t,e,n){var r,i,a,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=qs(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);n*o<t&&++n,r*o>e&&--r,a=new Array(i=r-n+1);while(++s<i)a[s]=(n+s)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);n/o<t&&++n,r/o>e&&--r,a=new Array(i=r-n+1);while(++s<i)a[s]=(n+s)/o}return r&&a.reverse(),a};function qs(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Rs?10:a>=Hs?5:a>=Vs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Rs?10:a>=Hs?5:a>=Vs?2:1)}function Ls(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Rs?i*=10:a>=Hs?i*=5:a>=Vs&&(i*=2),e<t?-i:i}var Ys=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Us=function(t){let e=t,n=t;function r(t,e,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}function i(t,e,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}function a(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o}return 1===t.length&&(e=(e,n)=>t(e)-n,n=Xs(t)),{left:r,center:a,right:i}};function Xs(t){return(e,n)=>Ys(t(e),n)}var Gs=function(t){return null===t?NaN:+t};const Js=Us(Ys),Ks=Js.right;Js.left,Us(Gs).center;var Zs=Ks,Qs=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function tu(t){return function(){return t}}function eu(t){return+t}var nu=[0,1];function ru(t){return t}function iu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tu(isNaN(e)?NaN:.5)}function au(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function ou(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=iu(i,r),a=n(o,a)):(r=iu(r,i),a=n(a,o)),function(t){return a(r(t))}}function su(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++o<r)i[o]=iu(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Zs(t,e,1,r)-1;return a[n](i[n](e))}}function uu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lu(){var t,e,n,r,i,a,o=nu,s=nu,u=gr,l=ru;function c(){var t=Math.min(o.length,s.length);return l!==ru&&(l=au(o[0],o[t-1])),r=t>2?su:ou,i=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((a||(a=r(s,o.map(t),sr)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,eu),c()):o.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=Qs,c()},h.clamp=function(t){return arguments.length?(l=!!t||ru,c()):l!==ru},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function cu(){return lu()(ru,ru)}var hu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fu(t){if(!(e=hu.exec(t)))throw new Error("invalid format: "+t);var e;return new du({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function du(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}fu.prototype=du.prototype,du.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var mu=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function pu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var gu,vu,yu,wu,bu=function(t){return t=pu(Math.abs(t)),t?t[1]:NaN},_u=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bu(e)/3)))-bu(Math.abs(t)))},xu=function(t,e){return function(n,r){var i=n.length,a=[],o=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[o=(o+1)%t.length]}return a.reverse().join(e)}},Mu=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},ku=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t},Au=function(t,e){var n=pu(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(gu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pu(t,Math.max(0,e+a-1))[0]},Nu=function(t,e){var n=pu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Eu={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nu(100*t,e),r:Nu,s:Au,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},Su=function(t){return t},Cu=Array.prototype.map,Tu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],zu=function(t){var e=void 0===t.grouping||void 0===t.thousands?Su:xu(Cu.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Su:Mu(Cu.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(t){t=fu(t);var l=t.fill,c=t.align,h=t.sign,f=t.symbol,d=t.zero,m=t.width,p=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Eu[y]||(void 0===g&&(g=12),v=!0,y="g"),(d||"0"===l&&"="===c)&&(d=!0,l="0",c="=");var w="$"===f?n:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?r:/[%p]/.test(y)?o:"",_=Eu[y],x=/[defgprs%]/.test(y);function M(t){var n,r,o,f=w,M=b;if("c"===y)M=_(t)+M,t="";else{t=+t;var k=t<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),g),v&&(t=ku(t)),k&&0===+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:s:"-"===h||"("===h?"":h)+f,M=("s"===y?Tu[8+gu/3]:"")+M+(k&&"("===h?")":""),x){n=-1,r=t.length;while(++n<r)if(o=t.charCodeAt(n),48>o||o>57){M=(46===o?i+t.slice(n+1):t.slice(n))+M,t=t.slice(0,n);break}}}p&&!d&&(t=e(t,1/0));var A=f.length+t.length+M.length,N=A<m?new Array(m-A+1).join(l):"";switch(p&&d&&(t=e(N+t,N.length?m-M.length:1/0),N=""),c){case"<":t=f+t+M+N;break;case"=":t=f+N+t+M;break;case"^":t=N.slice(0,A=N.length>>1)+f+t+M+N.slice(A);break;default:t=N+f+t+M;break}return a(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}function c(t,e){var n=l((t=fu(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(bu(e)/3))),i=Math.pow(10,-r),a=Tu[8+r/3];return function(t){return n(i*t)+a}}return{format:l,formatPrefix:c}};function ju(t){return vu=zu(t),yu=vu.format,wu=vu.formatPrefix,vu}ju({thousands:",",grouping:[3],currency:["$",""]});var $u=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bu(e)-bu(t))+1},Bu=function(t){return Math.max(0,-bu(Math.abs(t)))};function Iu(t,e,n,r){var i,a=Ls(t,e,n);switch(r=fu(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=_u(a,o))||(r.precision=i),wu(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=$u(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Bu(a))||(r.precision=i-2*("%"===r.type));break}return yu(r)}function Ou(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ws(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Iu(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,u=a[o],l=a[s],c=10;l<u&&(i=u,u=l,l=i,i=o,o=s,s=i);while(c-- >0){if(i=qs(u,l,n),i===r)return a[o]=u,a[s]=l,e(a);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Fu(){var t=cu();return t.copy=function(){return uu(t,Fu())},Os.apply(t,arguments),Ou(t)}var Pu=function(t){return"string"===typeof t?new an([document.querySelectorAll(t)],[document.documentElement]):new an([null==t?[]:ft(t)],rn)};function Du(t,e,n){this.k=t,this.x=e,this.y=n}Du.prototype={constructor:Du,scale:function(t){return 1===t?this:new Du(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Du(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ru=new Du(1,0,0);function Hu(t){while(!t.__zoom)if(!(t=t.parentNode))return Ru;return t.__zoom}Hu.prototype=Du.prototype;var Vu=n("56d7"),Wu={name:"BarGraph",props:["clusters"],data(){return{margin:null,margin2:null,width:null,width2:null,height:null,x:null,y:null,x2:null,y2:null,svg:null,xAxis:null,yAxis:null,xScale:null,yScale:null,brush:null,brushArea:null,content:null,focus:null,xText:"",tooltip:null,selection:"",columns:{community_size:"community size",friends_count_median:"number of friends",follower_count_mean:"number of followers",tweet_count_mean:"user activity in tweeting",favorite_count_mean:"user activity in favoriting",semantic_change:"semantic change",ideology_semantic_change:"ideological semantic change",is_org:"organization status",age:"age",gender:"female ratio",betweenness:"betweenness",closeness:"closeness"}}},created:function(){Vu["eventBus"].$on("select-ranking",this.reorder)},beforeDestroy:function(){Vu["eventBus"].$off("select-ranking",this.reorder)},mounted(){this.margin={top:30,right:10,bottom:50,left:300},this.margin2={top:30,right:5,bottom:50,left:50},this.width2=75,this.width=this.$refs.chart1.clientWidth,this.height=this.$refs.chart1.clientHeight,this.x=Fu().range([this.margin.left,this.width-this.margin.right-this.width2]).nice(),this.y=Ds().range([this.height-this.margin.bottom,this.margin.top]).padding(.1),this.x2=Fu().range([this.margin2.left,this.width2-this.margin2.right]).nice(),this.y2=Ds().range([this.height-this.margin.bottom,this.margin.top]).padding(.1),this.svg=ln("#chart-1").append("svg").attr("width",this.width).attr("height",this.height),this.svg.append("clipPath").attr("id","my-clip-path").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.width-this.margin.left-this.margin.right).attr("height",this.height-this.margin.top-this.margin.bottom),this.tooltip=Pu("#bar-tooltip").style("left",this.margin.left+this.width2+"px").attr("font-weight","normal"),this.content=this.svg.append("g").attr("transform","translate(0,0)"),this.focus=this.svg.append("g").attr("transform","translate("+this.width2+",0)");const t=this;function e(e){const n=e.selection;if(n){const e=[];t.y2.domain().forEach(r=>{var i=t.y2(r)+t.y2.bandwidth()/2;i>n[0]&&i<n[1]&&e.push(r)}),t.y.domain(e),t.svg.selectAll(".bar").attr("y",e=>t.y(e.cluster_name)).attr("height",t.y.bandwidth()).style("opacity",t=>e.includes(t.cluster_name)?1:0),t.yAxis.call(t.yScale,t.y)}}function n({selection:e}){e||t.brushArea.call(t.brush.move,[t.margin.top,(t.height-t.margin.bottom)/4])}this.brush=La().extent([[this.margin2.left-this.margin2.right,this.margin.top],[this.width2,this.height-this.margin.bottom]]).on("brush",e).on("end",n),this.brushArea=this.content.append("g").attr("class","brush"),this.xScale=function(e){e.attr("transform",`translate(0, ${t.height-t.margin.bottom})`).call(tt(t.x)).call(t=>t.select(".domain").remove())},this.xAxis=this.focus.append("g").attr("class","x-axis").call(this.xScale),this.xText=this.focus.append("text").attr("x",t.width/2).attr("y",t.height-5).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","white").text(""),this.yScale=function(e,n){e.attr("transform",`translate(${t.margin.left}, 0)`).call(et(n).ticks(t.width/40).tickSizeOuter(0))},this.yAxis=this.focus.append("g").attr("class","y-axis").call(this.yScale,this.y),this.content.append("text").attr("class","y-label").attr("transform","rotate(-90)").attr("x",-(this.height-this.margin.bottom)/2-50).attr("y",15).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","white").text("cluster name"),this.reorder("community_size")},computed:{chartHeight(){return this.$refs.chart1.clientHeight},chartWidth(){return this.$refs.chart1.clientWidth}},methods:{updateBars(t){const e=this;this.x.domain([0,R(t,t=>t.value)]),this.xAxis.transition().duration(250).call(tt(this.x)),this.y.domain(t.map(t=>t.cluster_name)),this.yAxis.transition().duration(250).call(et(this.y)),this.x2.domain([0,R(t,t=>t.value)]),this.y2.domain(t.map(t=>t.cluster_name));const n=this.focus.selectAll(".bar").data(t);n.enter().append("rect").attr("clip-path","url(#my-clip-path)").attr("class","bar").attr("id",t=>t.cluster_name).attr("x",e.margin.left).attr("y",t=>e.y(t.cluster_name)).attr("width",t=>e.x(t.value)-this.margin.left).attr("height",e.y.bandwidth()).attr("fill","#1da1f2").on("mouseover",(function(t,n){ln(this).style("fill","#7bbbe3"),e.tooltip.style("opacity",0).transition().duration(500).style("opacity",1),e.tooltip.html("The "+e.columns[e.selection]+" of <b>"+n.cluster_name+"</b> is "+n.value)})).on("mouseout",(function(){ln(this).style("fill","#1da1f2"),e.tooltip.style("opacity",0).transition().duration(500).style("opacity",1),"age"==e.selection?e.tooltip.html("Hover on a bar to see "+e.columns[e.selection]+" <i>(four age groups <=18, 19-29, 30-39, >=40 are scaled into 0-3)</i>"):e.tooltip.html("Hover on a bar to see "+e.columns[e.selection])})),n.transition().duration(250).attr("x",e.margin.left).attr("y",t=>e.y(t.cluster_name)).attr("width",t=>e.x(t.value)-this.margin.left).attr("height",e.y.bandwidth()).attr("fill","#1da1f2"),n.exit().remove();const r=this.content.selectAll(".bar2").data(t);r.enter().append("rect").attr("class","bar2").attr("x",e.margin2.left).attr("y",t=>e.y2(t.cluster_name)).attr("width",t=>e.x2(t.value)-e.margin2.left).attr("height",e.y2.bandwidth()).attr("fill","#1da1f2"),r.transition().duration(250).attr("x",e.margin2.left).attr("y",t=>e.y2(t.cluster_name)).attr("width",t=>e.x2(t.value)-e.margin2.left).attr("height",e.y2.bandwidth()).attr("fill","#1da1f2"),r.exit().remove(),setTimeout(()=>{e.brushArea.call(e.brush).call(e.brush.move,[this.margin.top,(this.height-this.margin.bottom)/4])},500)},reorder(t){fo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(e=>{this.xText.text(this.columns[t]),e.forEach(e=>e.value=parseFloat(e[t])),e.sort((t,e)=>t.value-e.value),e.forEach((t,e)=>t.Rank=e+1),this.updateBars(e),this.selection=t,this.tooltip.style("opacity",0).transition().duration(500).style("opacity",1),"age"==this.selection?this.tooltip.html("Hover on a bar to see "+this.columns[this.selection]+" <i>(four age groups <=18, 19-29, 30-39, >=40 are scaled into 0-3)</i>"):this.tooltip.html("Hover on a bar to see "+this.columns[this.selection])})}}},qu=Wu,Lu=(n("eb3b"),Object(l["a"])(qu,P,D,!1,null,"9e0d0882",null)),Yu=Lu.exports,Uu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ranking-group"}},[n("div",{attrs:{id:"selection-text"}},[n("span",[t._v(t._s(t.dropdownTitile))])]),n("div",{attrs:{id:"selection"}},[n("b-form-select",{attrs:{options:t.options},on:{change:function(e){return t.selectRanking(t.selected)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)])},Xu=[],Gu={name:"Ranking",props:["dropdownTitile"],data(){return{selected:"community_size",options:[{text:"community size",value:"community_size"},{text:"number of friends",value:"friends_count_median"},{text:"number of followers",value:"follower_count_mean"},{text:"user activity in tweeting",value:"tweet_count_mean"},{text:"user activity in favoriting",value:"favorite_count_mean"},{text:"semantic change",value:"semantic_change"},{text:"ideological semantic change",value:"ideology_semantic_change"},{text:"organization status",value:"is_org"},{text:"age",value:"age"},{text:"gender (female ratio)",value:"gender"},{text:"betweenness",value:"betweenness"},{text:"closeness",value:"closeness"}]}},created:function(){Vu["eventBus"].$on("select-ranking",this.changeButton)},beforeDestroy:function(){Vu["eventBus"].$off("select-ranking",this.changeButton)},methods:{selectRanking:function(){Vu["eventBus"].$emit("select-ranking",this.selected)},changeButton:function(t){this.selected=t}}},Ju=Gu,Ku=(n("616d"),Object(l["a"])(Ju,Uu,Xu,!1,null,"44987188",null)),Zu=Ku.exports,Qu={name:"BarChart",components:{BarGraph:Yu,Ranking:Zu},data(){return{dropdownTitile:"Sort the communities by:"}},created:function(){},beforeDestroy:function(){},mounted(){},methods:{scroll(){document.getElementById("intro-scatter").scrollIntoView({behavior:"smooth"})}}},tl=Qu,el=(n("0f44"),Object(l["a"])(tl,O,F,!1,null,"03d4bf7b",null)),nl=el.exports,rl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"page-scatter"}},[n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"title"},[n("h2",[t._v(" Language Variation & Social Factors ")])]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"content"},[n("div",{staticClass:"left"},[n("Factors"),n("transition",{attrs:{name:"fade"}},[t.showingHint?n("div",[n("h4",[t._v(" Hover on a dot to see the topic words of the community 👉 ")])]):n("TooltipThree",{attrs:{clusterName:t.clusterName,topicWords:t.topicWords}})],1)],1),n("div",{ref:"right",staticClass:"right"},[n("ScatterGraph")],1)]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},il=[],al=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chart3",attrs:{id:"chart-3"}},[n("div",{ref:"svg-container-3",attrs:{id:"svg-container-3"}})])},ol=[],sl={name:"ScatterGraph",props:["clusters"],data(){return{margin:null,width:null,height:null,x:null,y:null,color:null,svg:null,xAxis:null,yAxis:null,xScale:null,yScale:null,xText:"",yText:"",storedData:null,r:null,columns:{community_size:"community size",semantic_change:"semantic change",ideology_semantic_change:"ideological semantic change",is_org:"organization status",age:"age",gender:"female ratio",betweenness:"betweenness",closeness:"closeness",friends_count_median:"median friends count",friends_count_mean:"mean friends count",follower_count_median:"median follower count",follower_count_mean:"mean follower count",tweet_count_mean:"mean tweet count",tweet_count_median:"median tweet count",tweet_count_rank:"tweet count rank",favorite_count_median:"median favoriting count",favorite_count_mean:"mean favoriting count"}}},created:function(){Vu["eventBus"].$on("select-factors",this.updateScatterPlot)},beforeDestroy:function(){Vu["eventBus"].$off("select-factors",this.updateScatterPlot)},mounted(){this.margin={top:20,right:20,bottom:60,left:70},this.width=this.$refs.chart3.clientWidth,this.height=this.$refs.chart3.clientHeight,this.r=Fu().range([2,20]),this.x=Fu().range([this.margin.left,this.width-this.margin.right]),this.y=Fu().range([this.height-this.margin.bottom,this.margin.top]),this.svg=ln("#chart-3").append("svg").attr("width",this.width).attr("height",this.height);const t=["atlanta","society","entertainment","sports"],e=["#FFBF00","#FF7F50","#6495ED","#808000"];this.color=Ps().domain(t).range(e);const n=this;this.svg.selectAll("mydots").data(t).enter().append("circle").attr("class","mydots").attr("cx",n.width-n.margin.right-100).attr("cy",(function(t,e){return n.margin.top+25*e})).attr("r",7).style("fill",(function(t){return n.color(t)})),this.svg.selectAll("mylabels").data(t).enter().append("text").attr("class","mylabels").attr("x",n.width-n.margin.right-82).attr("y",(function(t,e){return n.margin.top+25*e+5})).style("fill",(function(t){return n.color(t)})).text((function(t){return t})).attr("text-anchor","left").style("alignment-baseline","middle"),this.xAxis=this.svg.append("g").attr("class","x-axis").attr("transform",`translate(0, ${n.height-n.margin.bottom})`).call(tt(n.x)),this.xText=this.xAxis.append("text").attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("x",(this.width-this.margin.right)/2).attr("y",40).attr("font-weight",700).attr("font-size",20).attr("fill","white").text(""),this.yAxis=this.svg.append("g").attr("class","y-axis").attr("transform",`translate(${n.margin.left}, 0)`).call(et(n.y)),this.yText=this.yAxis.append("text").attr("transform","rotate(-90)").attr("text-anchor","middle").attr("x",-(this.height-this.margin.bottom)/2-10).attr("y",-40).attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","white").text(""),fo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(t=>{this.storedData=t,console.log(this.storedData),this.updateScatterPlot("community_size","semantic_change","all")})},methods:{updateScatterPlot(t,e,n){console.log(t,e,n);const r=this,i="all"!=n?r.storedData.filter(t=>t.category==n):r.storedData;console.log(r.storedData),console.log(i),this.x.domain([0,R(i,e=>parseFloat(e[t]))]),this.xAxis.transition().duration(1e3).call(tt(this.x)),this.xText.text(this.columns[t]),this.y.domain([0,R(i,t=>parseFloat(t[e]))]),this.yAxis.transition().duration(1e3).call(et(this.y)),this.yText.text(this.columns[e]);const a=this.svg.selectAll(".dot").data(i.filter((function(t,e){return e<1500})));console.log("Here"),this.r.domain([0,R(i,t=>parseFloat(t["community_size"]))]),a.enter().append("circle").attr("class","dot").attr("r",5).style("fill","#e25609").style("opacity",0).style("stroke","white").attr("cx",r.margin.left).attr("cy",r.height-r.margin.bottom).on("mouseover",(function(t,e){console.log("over"),console.log(t);const n=e.cluster_name,r=e.topic_words;Vu["eventBus"].$emit("show-tooltip-3",n,r)})).on("mouseout",(function(){console.log("out"),Vu["eventBus"].$emit("hide-tooltip-3")})).transition().delay((function(t,e){return 3*e})).duration(2e3).attr("cx",(function(e){return r.x(e[t])})).attr("cy",(function(t){return r.y(t[e])})).attr("r",(function(t){return r.r(t["community_size"])})).style("fill",(function(t){return r.color(t["category"])})).attr("stroke",(function(t){return r.color(t["category"])})).style("opacity",.8),console.log("Here"),a.transition().delay((function(t,e){return 3*e})).duration(2e3).attr("cx",(function(e){return r.x(e[t])})).attr("cy",(function(t){return r.y(t[e])})).attr("r",(function(t){return r.r(t["community_size"])})).style("fill",(function(t){return r.color(t["category"])})).attr("stroke",(function(t){return r.color(t["category"])})),console.log("Here"),a.exit().transition().delay((function(t,e){return 3*e})).duration(2e3).attr("cx",r.margin.left).attr("cy",r.height-r.margin.bottom).style("opacity",0).remove(),console.log("Here")}}},ul=sl,ll=(n("dee5"),Object(l["a"])(ul,al,ol,!1,null,"f077326e",null)),cl=ll.exports,hl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{attrs:{id:"bubble-hint"}},[t._v("Note: bubble size represents the community size")]),n("b-form-group",{attrs:{id:"input-group-1",label:"Choose two factors:","label-for":"m-2"}},[n("b-form-select",{attrs:{options:t.factors},on:{change:t.selectFactors},model:{value:t.factor1,callback:function(e){t.factor1=e},expression:"factor1"}}),n("b-form-select",{attrs:{options:t.factors},on:{change:t.selectFactors},model:{value:t.factor2,callback:function(e){t.factor2=e},expression:"factor2"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Choose a category:","label-for":"m-2"}},[n("b-form-select",{attrs:{options:t.categories},on:{change:t.selectFactors},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)],1)},fl=[],dl={name:"Ranking",data(){return{factor1:"community_size",factor2:"semantic_change",category:"all",categories:["all","atlanta","society","entertainment","sports"],factors:[{text:"community size",value:"community_size"},{text:"median friends count",value:"friends_count_median"},{text:"mean friends count",value:"friends_count_mean"},{text:"median follower count",value:"follower_count_median"},{text:"mean follower count",value:"follower_count_mean"},{text:"mean tweet count",value:"tweet_count_mean"},{text:"median tweet count",value:"tweet_count_median"},{text:"tweet count rank",value:"tweet_count_rank"},{text:"median favoriting count",value:"favorite_count_median"},{text:"mean favoriting count",value:"favorite_count_mean"},{text:"semantic change",value:"semantic_change"},{text:"ideological semantic change",value:"ideology_semantic_change"},{text:"organization status",value:"is_org"},{text:"age",value:"age"},{text:"gender (female ratio)",value:"gender"},{text:"betweenness",value:"betweenness"},{text:"closeness",value:"closeness"}]}},methods:{selectFactors:function(){Vu["eventBus"].$emit("select-factors",this.factor1,this.factor2,this.category)}}},ml=dl,pl=(n("fdf1"),Object(l["a"])(ml,hl,fl,!1,null,"091b3bdb",null)),gl=pl.exports,vl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tooltip-3"}},[n("h5",[t._v("Top words of "),n("b",[t._v(t._s(t.clusterName))]),t._v(" community")]),n("vue-word-cloud",{attrs:{id:"wordcloud",rotation:t.rotate,spacing:t.spacing,words:t.topicWords,color:"white","font-family":"Roboto"}})],1)},yl=[],wl=n("2d8a"),bl=n.n(wl),_l={name:"TooltipThree",props:["clusterName","topicWords"],components:{[bl.a.name]:bl.a},data(){return{words:[{text:"Vue",value:1e3},{text:"js",value:200},{text:"is",value:800},{text:"very cool",value:1e6},{text:"lunch",value:100}],margin:{top:0,right:0,bottom:0,left:0},rotate:null,spacing:1/4}},mounted(){this.rotate=function(){const t=[0,1/8,3/4,7/8],e=Math.floor(Math.random()*t.length);return t[e]}}},xl=_l,Ml=(n("aa34"),Object(l["a"])(xl,vl,yl,!1,null,"27559410",null)),kl=Ml.exports,Al={name:"BarChart",components:{ScatterGraph:cl,Factors:gl,TooltipThree:kl},data(){return{clusterName:"",topicWords:[],showingHint:!0}},created:function(){Vu["eventBus"].$on("show-tooltip-3",this.showTooltip),Vu["eventBus"].$on("hide-tooltip-3",this.hideTooltip)},beforeDestroy:function(){Vu["eventBus"].$off("show-tooltip-3",this.showTooltip),Vu["eventBus"].$off("hide-tooltip-3",this.hideTooltip)},methods:{showTooltip(t,e){console.log("show"),this.clusterName=t,this.topicWords=e.split(",").map(t=>({text:t,value:1})),this.showingHint=!1},hideTooltip(){this.showingHint=!0,console.log("hide")},scroll(){document.getElementById("thanks").scrollIntoView({behavior:"smooth"})}}},Nl=Al,El=(n("c28b"),Object(l["a"])(Nl,rl,il,!1,null,"6eb796e8",null)),Sl=El.exports,Cl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"thanks"}},[n("div",{attrs:{id:"thanks-title"}},[n("h1",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title1)+" ")])]),n("div",{attrs:{id:"thanks-content"}},[n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"thanks-text-block"},[t._m(0),n("p",[t._v("Developed by Yuebin Dong, Diego Lestani, Amanda Horne, Hang Jiang (Equal Contributions)")]),n("b-link",{attrs:{href:"/final-project-atlanta-community/#/"}},[t._v("Project Page")]),n("b-link",{attrs:{href:"https://github.com/6859-sp21/final-project-atlanta-community"}},[t._v("Github")])],1),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"thanks-image-block"}},[n("b-button",{staticClass:"button-share",attrs:{"label-for":"input-1",variant:"link"}},[n("ShareNetwork",{attrs:{network:"twitter",url:"https://6859-sp21.github.io/final-project-atlanta-community/",title:"Visualizing language variation in Atlanta on Twitter"}},[n("b-icon",{attrs:{icon:"twitter","font-scale":"3"}}),n("span",{staticStyle:{margin:"0.5em"}},[t._v("Share on twitter")])],1)],1)],1)]),n("div",{attrs:{id:"back-to-top"}},[n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("TOP")]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╱╲")])])])},Tl=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("This visualization is based on a research project in "),n("a",{attrs:{href:"https://www.ccc.mit.edu/"}},[t._v("MIT Center for Constructive Communication")]),t._v(", "),n("a",{attrs:{href:"https://www.media.mit.edu/"}},[t._v("MIT Media Lab")])])}],zl={name:"Thanks",data(){return{title1:"Thanks for exploring"}},methods:{scroll(){document.getElementById("cover").scrollIntoView({behavior:"smooth"})}}},jl=zl,$l=(n("811e"),Object(l["a"])(jl,Cl,Tl,!1,null,"7272c40b",null)),Bl=$l.exports,Il=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"page-circle"}},[n("div",{staticClass:"content"},[n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"title"},[n("h2",[t._v(" Community Grouping ")])]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],staticClass:"top"},[n("Ranking",{attrs:{dropdownTitile:t.dropdownTitile}})],1),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],ref:"bottom",staticClass:"bottom"},[n("CircleGraph")],1)]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},Ol=[],Fl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chart2",attrs:{id:"chart-2"}},[n("b-breadcrumb",{attrs:{items:t.items}}),n("div",{attrs:{id:"svg-container-2"}})],1)},Pl=[],Dl={name:"CircleGraph",data(){return{width:null,height:null,color:null,svg:null,root:null,focus:null,view:null,label:null,storedData:null,node:null,parents:null,followings:null,items:[{text:"All"}]}},created:function(){Vu["eventBus"].$on("select-ranking",this.update)},beforeDestroy:function(){Vu["eventBus"].$off("select-ranking",this.update)},mounted(){this.width=this.$refs.chart2.clientWidth,this.height=this.$refs.chart2.clientHeight-20,this.color=Fu().domain([0,5]).range(["rgb(6,103,162)","#7bbbe3"]).interpolate(Bs);const t=this;this.svg=ln("#chart-2").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`-${t.width/2} -${t.height/2} ${t.width} ${t.height}`).style("cursor","pointer").on("click",e=>t.zoom(e,t.root)),this.node=this.svg.append("g"),this.label=this.svg.append("g").attr("pointer-events","none").attr("text-anchor","middle"),fo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(t=>{const e=new Map,n=new Map;this.parents=new Map,this.followings=new Map,t.forEach(t=>{const r=[];if(t.top_follows.split(",").forEach(e=>{r.push({name:e,community_size:parseFloat(t.community_size)/25,semantic_change:parseFloat(t.semantic_change)/25,ideology_semantic_change:parseFloat(t.ideology_semantic_change)/25,friends_count_median:parseFloat(t.friends_count_median)/25,follower_count_mean:parseFloat(t.follower_count_mean)/25,favorite_count_mean:parseFloat(t.favorite_count_mean)/25,is_org:parseFloat(t.is_org)/25,age:parseFloat(t.age)/25,gender:parseFloat(t.gender)/25,betweenness:parseFloat(t.betweenness)/25,closeness:parseFloat(t.closeness)/25,tweet_count_mean:parseFloat(t.tweet_count_mean)/25})}),e.get(t.cluster_group)?e.get(t.cluster_group).push({name:t.cluster_name,children:r}):e.set(t.cluster_group,[{name:t.cluster_name,children:r}]),n.get(t.category))n.get(t.category).add(t.cluster_group);else{const e=new Set;e.add(t.cluster_group),n.set(t.category,e)}this.parents.set(t.cluster_name,t.cluster_group),this.parents.set(t.cluster_group,t.category),this.parents.set(t.category,"All"),this.followings.set(t.cluster_name,t.top_follows.split(","))}),this.parents.set("All",null);const r=[];n.forEach((t,n)=>{const i=[];t.forEach(t=>{i.push({name:t,children:e.get(t)})}),r.push({name:n,children:i})}),this.storedData={name:"All",children:r},this.root=Co(this.storedData).sum(t=>t["community_size"]).sort((t,e)=>e["community_size"]-t["community_size"]),this.node=this.svg.append("g"),this.label=this.svg.append("g"),this.update("community_size")})},methods:{pack(t){const e=rs().size([Math.min(this.width,this.height),Math.min(this.width,this.height)]).padding(3);return e(this.root.sum(e=>e[t]).sort((t,e)=>e["community_size"]-t["community_size"]))},update(t){this.root=this.pack(t),this.focus||(this.focus=this.root);const e=this,n=this.node.selectAll("circle").data(e.root.descendants().slice(1)),r=[this.focus.x,this.focus.y,2*this.focus.r],i=Math.min(this.width,this.height)/r[2];n.enter().append("circle").attr("fill",t=>t.children?e.color(t.depth):"none").attr("pointer-events",t=>t.children?null:"none").on("mouseover",(function(){ln(this).attr("stroke","#ffffff")})).on("mouseout",(function(){ln(this).attr("stroke",null)})).on("click",(t,n)=>{e.focus!==n&&(e.zoom(t,n),t.stopPropagation())}).transition().duration(2e3).attr("transform",t=>`translate(${(t.x-r[0])*i},${(t.y-r[1])*i})`).attr("r",t=>t.r*i),n.transition().duration(2e3).attr("transform",t=>`translate(${(t.x-r[0])*i},${(t.y-r[1])*i})`).attr("r",t=>t.r*i),n.exit().remove();const a=this.label.selectAll(".circle-label").data(e.root.descendants());a.enter().append("text").attr("class","circle-label").attr("text-anchor","middle").style("fill",t=>t.children?"black":"white").style("font",t=>t.children?"15px":"12px").attr("font-weight",t=>t.children?"800":"600").style("fill-opacity",t=>t.parent===e.root?1:0).style("display",t=>t.parent===e.root?"inline":"none").text(t=>t.children?t.data.name:"@"+t.data.name).attr("pointer-events",t=>t.children?"none":null).on("click",(t,e)=>{window.open("https://twitter.com/"+e.data.name)}).transition().duration(2e3).attr("transform",t=>t.children&&t.children[0].children?`translate(${(t.x-r[0])*i},${(t.y-r[1])*i})`:`translate(${(t.x-r[0])*i},${(t.y-r[1])*i}) rotate(-45)`),a.transition().duration(500).text(t=>t.children?t.data.name:"@"+t.data.name),a.exit().remove(),setTimeout(()=>{this.zoomTo([e.focus.x,e.focus.y,2*e.focus.r])},2e3)},zoomTo(t){const e=Math.min(this.width,this.height)/t[2];this.view=t,this.label.selectAll(".circle-label").attr("transform",n=>n.children&&n.children[0].children?`translate(${(n.x-t[0])*e},${(n.y-t[1])*e})`:`translate(${(n.x-t[0])*e},${(n.y-t[1])*e}) rotate(-45)`),this.node.selectAll("circle").attr("transform",n=>`translate(${(n.x-t[0])*e},${(n.y-t[1])*e})`),this.node.selectAll("circle").attr("r",t=>t.r*e)},zoom(t,e){this.focus=e;const n=this,r=this.svg.transition().duration(t.altKey?7500:750).tween("zoom",()=>{const t=hs(n.view,[n.focus.x,n.focus.y,2*n.focus.r]);return e=>n.zoomTo(t(e))});this.label.selectAll(".circle-label").filter((function(t){return t.parent===n.focus||"inline"===this.style.display})).transition(r).style("fill-opacity",t=>t.parent===n.focus?1:0).on("start",(function(t){t.parent===n.focus&&(this.style.display="inline")})).on("end",(function(t){t.parent!==n.focus&&(this.style.display="none")})),this.findAncestors(e.data.name)},findAncestors(t){const e=[];while(t)e.unshift({text:t}),t=this.parents.get(t);this.items=e}}},Rl=Dl,Hl=(n("960b"),Object(l["a"])(Rl,Fl,Pl,!1,null,"7ffe2d94",null)),Vl=Hl.exports,Wl={name:"CirclePacking",components:{CircleGraph:Vl,Ranking:Zu},data(){return{dropdownTitile:"The size of circles is showing:"}},created:function(){},beforeDestroy:function(){},mounted(){},methods:{scroll(){document.getElementById("intro-bar").scrollIntoView({behavior:"smooth"})}}},ql=Wl,Ll=(n("182d"),Object(l["a"])(ql,Il,Ol,!1,null,"7ac018c4",null)),Yl=Ll.exports,Ul=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"intro-bar"}},[n("h2",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" Ranking Communities ")]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"text-block"}},[n("hr"),n("p",[t._v(" Now that you are familiar with the different communities in Atlanta’s social media environment, do you want to understand which communities lead in different ways? We’ll provide you with a visual ranking tool so you can choose the metric of your preference to rank communities. You can choose this metric of interest in the drop-down menu and since there are too many communities, you’ll be able to scroll and zoom in or out on the barchart with the tool on the left. You just have to move or expand the rectangle and you will se how it helps you navigate the rankings. You’ll learn that while “follow”, “sex” and “Trump” are the largest communities in size, those with highest number of followers are: “Basketball”, “care” and “entrepreneur”. ")])]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},Xl=[],Gl={name:"CircleIntro",data(){return{}},methods:{scroll(){document.getElementById("page-barchart").scrollIntoView({behavior:"smooth"})}}},Jl=Gl,Kl=(n("3619"),Object(l["a"])(Jl,Ul,Xl,!1,null,"f811c8f2",null)),Zl=Kl.exports,Ql=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"intro-scatter"}},[n("h2",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" Language Variation & Social Factors ")]),n("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"text-block"}},[n("hr"),n("p",[t._v(" Now you might be wondering how different characteristics of communities influence semantic change. The graph below will allow you two compare the relationship between two factors in a scatterplot. You’ll be able to choose the factors and also to filter by categories from the drop-down menus on the left. Communities are represented by bubbles in the graph, their color represents the category to which they belong and the size represents the community size. For example, you will notice that the larger the community size, the lower the lexical change, not only for all the categories but generally by each individual category. The best part is that you’ll be able to discover more about each individual community when you hover your mouse over each dot in the graph. Not only will you see the name of the community, but a word cloud will show up on the left displaying the main topic words used in that community. ")])]),n("span",{attrs:{id:"arrow"},on:{click:function(e){return t.scroll()}}},[t._v("╲╱")])])},tc=[],ec={name:"CircleIntro",data(){return{}},methods:{scroll(){document.getElementById("page-scatter").scrollIntoView({behavior:"smooth"})}}},nc=ec,rc=(n("4d4d"),Object(l["a"])(nc,Ql,tc,!1,null,"31a50ed2",null)),ic=rc.exports,ac={components:{Cover:h,Intro:v,Tutorial:M,Definitions:C,CircleIntro:I,BarChart:nl,ScatterChart:Sl,Thanks:Bl,CirclePacking:Yl,BarIntro:Zl,ScatterIntro:ic},name:"Viz",data(){return{text:"Welcome to Novid"}}},oc=ac,sc=(n("cb79"),Object(l["a"])(oc,r,i,!1,null,"167aa2fe",null));e["default"]=sc.exports},7448:function(t,e,n){},"811e":function(t,e,n){"use strict";n("5c1a")},"821f":function(t,e,n){t.exports=n.p+"img/semantic_change.87d0c30f.png"},8979:function(t,e,n){},"920c":function(t,e,n){},"960b":function(t,e,n){"use strict";n("d21f")},a1ab:function(t,e,n){},a73a:function(t,e,n){},aa34:function(t,e,n){"use strict";n("1827")},c28b:function(t,e,n){"use strict";n("7448")},cb79:function(t,e,n){"use strict";n("920c")},d134:function(t,e,n){},d1e2:function(t,e,n){"use strict";n("db0d")},d21f:function(t,e,n){},db0d:function(t,e,n){},dee5:function(t,e,n){"use strict";n("18dc")},e768:function(t,e,n){},e7a7:function(t,e,n){},eb3b:function(t,e,n){"use strict";n("35ac")},eedf:function(t,e,n){},fdf1:function(t,e,n){"use strict";n("0632")}}]);
//# sourceMappingURL=chunk-466747c2.f8c174ec.js.map