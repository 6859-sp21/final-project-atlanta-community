(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c77c94ec"],{"0eaa":function(t,n,e){},"1d0b":function(t,n,e){},"23bc":function(t,n,e){},"2d8a":function(t,n,e){!function(n,e){t.exports=e()}(0,(function(){"use strict";function t(t){return"function"==typeof t}function n(){}var e=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};function r(t){return function(){return t}}function i(){return[]}e.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},e.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach((function(t){try{t()}catch(t){}})))},e.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch(t){}this.interruptHandlers.add(t)};var o={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:r({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:r({opacity:0})},loadFont:{type:Function,default:function(t,n,e,r){return document.fonts.load([n,e,"1px",t].join(" "),r)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:i}},a=r(null);function s(t){if(t){var n=typeof t;return"object"===n||"function"===n}return!1}function u(t){return"string"==typeof t}var c={animationOptions:function(){var t,n,e,r=this.animationDuration,i=this.enterAnimation,o=this.leaveAnimation;if(s(i)&&s(o)){var c=(t=Object.assign({},i,o),n=a,e={},Object.entries(t).forEach((function(r){var i=r[0],o=r[1];e[i]=n(o,i,t)})),e),l=function(t){Object.assign(t.style,i)},h=function(t,n){setTimeout((function(){Object.assign(t.style,c),setTimeout(n,r)}),1)};return{props:{css:!1},on:{beforeAppear:l,appear:h,beforeEnter:l,enter:h,leave:function(t,n){Object.assign(t.style,o),setTimeout(n,r)}}}}return u(i)&&u(o)?{props:{duration:r,appear:!0,appearActiveClass:i,enterActiveClass:i,leaveActiveClass:o}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var n=this.animationDuration,e=this.normalizedAnimationOverlap;return n/Math.min(e,t.length)}return 0}},l=Array.isArray;function h(n){return t(n)?n:r(n)}var f=2*Math.PI,p=f/360;function d(t){return void 0===t}function m(t,n){return t.postMessage(n),function(t){return new Promise((function(n,e){var r,i=function(t){var e=t.data;r(),n(e)},o=function(t){var n=t.error;r(),e(n)};r=function(){t.removeEventListener("message",i),t.removeEventListener("error",o)},t.addEventListener("message",i),t.addEventListener("error",o)}))}(t)}function g(t,n,e){return Math.ceil(t*Math.abs(Math.sin(e))+n*Math.abs(Math.cos(e)))}function v(t,n,e){return Math.ceil(t*Math.abs(Math.cos(e))+n*Math.abs(Math.sin(e)))}function y(t,n,e,r,i){return[t,n,e,r+"px",i].join(" ")}function w(t,n){return Math.ceil(t/n)*n}function _(t,n,e){var r=e().getContext("2d");return r.font=n,r.measureText(t).width}var x=function(t,n,e,r,i,o,a){this.t=t,this.i=n,this.o=e,this.u=r,this.s=i,this.h=o,this.l=a,this.v=1,this.m=0,this.p=0,this.g=0},b={M:{configurable:!0},S:{configurable:!0},j:{configurable:!0},F:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},k:{configurable:!0},N:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};b.M.get=function(){return this.v},b.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},b.S.get=function(){return y(this.h,this.s,this.u,this.M,this.o)},b.j.get=function(){return void 0===this.q&&(this.q=_(this.t,y(this.h,this.s,this.u,1,this.o),this.l)),this.q},b.F.get=function(){return this.j*this.M},b.O.get=function(){return this.p*this.M},b.O.set=function(t){this.p=t/this.M},b.W.get=function(){return this.g*this.M},b.W.set=function(t){this.g=t/this.M},b.A.get=function(){return v(this.F,this.M,this.i)},b.B.get=function(){return g(this.F,this.M,this.i)},b.C.get=function(){return this.O-this.A/2},b.L.get=function(){return this.W-this.B/2},b._.get=function(){return this.m},b._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},b.P.get=function(){return void 0===this.V&&(this.V=function(t,n,e,r,i,o,a,s,u){var c=y(n,e,r,i*=4,o),l=a*i*2,h=l+_(t,c,u),f=l+i,p=u(),d=p.getContext("2d"),m=w(v(h,f,s),4),x=w(g(h,f,s),4);p.width=m,p.height=x,d.translate(m/2,x/2),d.rotate(s),d.font=c,d.textAlign="center",d.textBaseline="middle",d.fillText(t,0,0),l>0&&(d.miterLimit=1,d.lineWidth=l,d.strokeText(t,0,0));for(var b=d.getImageData(0,0,m,x).data,M=[],k=1/0,A=0,E=1/0,N=0,S=m/4,T=x/4,C=0;C<S;++C)for(var z=0;z<T;++z)t:for(var j=0;j<4;++j)for(var O=0;O<4;++O)if(b[4*(m*(4*z+O)+(4*C+j))+3]){M.push([C,z]),k=Math.min(C,k),A=Math.max(C+1,A),E=Math.min(z,E),N=Math.max(z+1,N);break t}return M.length>0?[M.map((function(t){var n=t[0],e=t[1];return[n-k,e-E]})),A-k,N-E,Math.ceil(S/2)-k,Math.ceil(T/2)-E]:[M,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},b.T.get=function(){return this.P[0]},b.k.get=function(){return this.P[1]},b.N.get=function(){return this.P[2]},b.D.get=function(){return this.P[3]},b.H.get=function(){return this.P[4]},b.R.get=function(){return Math.ceil(this.O)-this.D},b.R.set=function(t){this.O=t+this.D},b.U.get=function(){return Math.ceil(this.W)-this.H},b.U.set=function(t){this.W=t+this.H},Object.defineProperties(x.prototype,b);var M={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},k={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},A={name:"VueWordCloud",mixins:[function(r){return{data:function(){var t={};return Object.keys(r).forEach((function(n){t["asyncComputed_trigger_"+n]={}})),t},computed:{},beforeCreate:function(){var i=this,o=new Set;Object.entries(r).forEach((function(r){var a=r[0],s=r[1],u=s.get,c=s.default,l=s.errorHandler;void 0===l&&(l=n);var h,f=!0;i.$options.computed[a]=function(){return this["asyncComputed_trigger_"+a],this["asyncComputed_promise_"+a],c},i.$options.computed["asyncComputed_promise_"+a]=function(){var n=this;h&&(h.interrupt(),o.delete(h)),f&&(f=!1,t(c)&&(c=c.call(this)));var r=new e(c);h=r,o.add(h),new Promise((function(t){t(u.call(n,r))})).then((function(t){r.throwIfInterrupted(),c=t,n["asyncComputed_trigger_"+a]={}})).catch(l)}}))}}}({cloudWords:{get:function(t){var e,r=this,i=this,o=i.elementWidth,a=i.elementHeight,c=i.words,g=i.text,v=i.weight,y=i.rotation,w=i.rotationUnit,_=i.fontFamily,b=i.fontWeight,M=i.fontVariant,k=i.fontStyle,A=i.color,E=i.spacing,N=i.fontSizeRatio,S=i.createCanvas,T=i.loadFont,C=i.createWorker;e=N,N=(e=Math.abs(e))>1?1/e:e;var z=function(t){var n=t[0],e=t[1];return n>e?[1,e/n]:e>n?[n/e,1]:[1,1]}([o,a]);if(o>0&&a>0){var j=h(g),O=h(v),$=h(y),B=h(w),P=h(_),D=h(b),F=h(M),R=h(k),H=h(A);return c=c.map((function(t,n){var e,r,i,o,a,h,m,g,v,y,w;t&&(u(t)?i=t:l(t)?(i=(e=t)[0],o=e[1]):s(t)&&(i=(r=t).text,o=r.weight,a=r.rotation,h=r.rotationUnit,m=r.fontFamily,g=r.fontWeight,v=r.fontVariant,y=r.fontStyle,w=r.color)),d(i)&&(i=j(t,n,c)),d(o)&&(o=O(t,n,c)),d(a)&&(a=$(t,n,c)),d(h)&&(h=B(t,n,c)),d(m)&&(m=P(t,n,c)),d(g)&&(g=D(t,n,c)),d(v)&&(v=F(t,n,c)),d(y)&&(y=R(t,n,c)),d(w)&&(w=H(t,n,c));var _=new x(i,function(){switch(h){case"turn":return a*f;case"deg":return function(t){return t*p}(a)}return a}(),m,g,v,y,S);return Object.assign(_,{J:t,Y:o,G:w}),_})),Promise.resolve().then((function(){return Promise.all(c.map((function(t){var n=t.o,e=t.h,r=t.u,i=t.t;return T(n,e,r,i)})))})).catch(n).then((function(){if((c=c.filter((function(t){return t.F>0})).sort((function(t,n){return n.Y-t.Y}))).length>0){var n=c[0],e=function(t){return t[(n=t,n.length-1)];var n}(c),i=n.Y,s=e.Y;if(s<i){var u=N>0?1/N:s>0?i/s:i<0?s/i:1+i-s;c.forEach((function(t){var n,e,r;t.M=(n=t.Y,(r=1)+(n-(e=s))*(u-r)/(i-e))}))}c.reduceRight((function(t,n){return n.M<2*t?n.M/=t:(t=n.M,n.M=1),n.I=t}),1),c.forEach((function(t){t.M*=4}));var l=C('!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();\n'),h={completedWords:0,totalWords:c.length};return Promise.resolve().then((function(){return t.throwIfInterrupted(),r.progress=h,m(l,z)})).then((function(){t.throwIfInterrupted(),h.completedWords++;var n=Promise.resolve();return c.reduce((function(e,r,i){return n=n.then((function(){return r.I<e.I?Promise.resolve().then((function(){return m(l,{name:"clear"})})).then((function(){var t=Promise.resolve(),n=e.I/r.I;return c.slice(0,i).forEach((function(e){t=t.then((function(){return e.M*=n,m(l,{name:"put",args:[e.T,e.R,e.U]})}))})),t})):m(l,{name:"put",args:[e.T,e.R,e.U]})})).then((function(){return r._=E,m(l,{name:"findFit",args:[r.T,r.R,r.U]})})).then((function(n){var e=n[0],i=n[1];t.throwIfInterrupted(),h.completedWords++,r.R=e,r.U=i,r._=0})),r})),n})).then((function(){return m(l,{name:"put",args:[e.T,e.R,e.U]})})).then((function(){return m(l,{name:"getBounds"})})).then((function(t){var n=t.left,e=t.top,r=t.width,i=t.height;if(r>0&&i>0){var s=Math.min(o/r,a/i);c.forEach((function(t){t.O-=n,t.W-=e,t.M*=s}))}var u=new Set;return c.map((function(t){for(var n=t.J,e=t.t,r=t.Y,i=t.i,o=t.o,a=t.u,s=t.s,c=t.h,l=t.S,h=t.O,f=t.W,p=t.G,d=JSON.stringify([e,o,a,s,c]);u.has(d);)d+="!";return u.add(d),{key:d,word:n,text:e,weight:r,rotation:i,font:l,color:p,left:h,top:f}}))})).finally((function(){l.terminate()})).finally((function(){t.throwIfInterrupted(),r.progress=null}))}return[]}))}return[]},default:i}})],props:o,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:c,watch:M,mounted:function(){var t,n,e=this;t=function(){if(e._isDestroyed)return!1;e.updateElementSize()},n=1e3,function(t){var n=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t.call.apply(t,[this,n].concat(e))};return n}((function(e){requestAnimationFrame((function(){!1!==t()&&setTimeout(e,n)}))}))()},methods:k,render:function(t){var n=this.$scopedSlots,e=this.animationEasing,r=this.animationOptions,i=this.cloudWords,o=this.separateAnimationDelay,a=this.separateAnimationDuration;return n=Object.assign({},{default:function(t){return t.text}},n),t("div",{style:{height:"100%",position:"relative",width:"100%"}},[t("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},i.map((function(i,s){var u=i.color,c=i.font,l=i.left,h=i.rotation,f=i.text,p=i.top,d=i.weight,m=i.word;return t("transition",Object.assign({},r),[t("div",{key:s,style:Object.assign({},{left:l+"px",position:"absolute",top:p+"px"},a>0?{animation:[a+"ms",e,o*s+"ms"].join(" "),transition:["all",a+"ms",e,o*s+"ms"].join(" ")}:{})},[t("div",{style:Object.assign({},{bottom:0,position:"absolute",right:0,transform:["translate(50%,50%)","rotate("+h+"rad)"].join(" ")},a>0?{transition:["all",a+"ms",e,o*s+"ms"].join(" ")}:{})},[t("span",{style:{color:u,display:"inline-block",font:c,lineHeight:1,transform:"translateY(-0.1em)",whiteSpace:"nowrap"}},[n.default({color:u,font:c,left:l,text:f,top:p,weight:d,word:m})])])])])})))])}},E=globalThis.window;if(E){var N=E.Vue;N&&N.component(A.name,A)}return A}))},"2e2e":function(t,n,e){},"3c6b":function(t,n,e){},"3ef5":function(t,n,e){},"41c0":function(t,n,e){},"44df":function(t,n,e){"use strict";e("5edb")},"4b5e":function(t,n,e){"use strict";e("23bc")},"56d5":function(t,n,e){},"5cd9":function(t,n,e){"use strict";e("e1b9")},"5e50":function(t,n,e){"use strict";e("e3e3")},"5edb":function(t,n,e){},"60d2":function(t,n,e){"use strict";e("3ef5")},"680f":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Intro"),e("CirclePacking",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]}),e("Spacing"),e("BarChart",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]}),e("Spacing"),e("SizeChart",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]}),e("Spacing"),e("ScatterChart",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]}),e("Thanks")],1)},i=[],o=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{attrs:{id:"intro"}},[r("div",{attrs:{id:"title"}},[r("h1",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title1)+" ")]),r("h2",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title2)+" ")])]),r("div",{attrs:{id:"content"}},[r("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"text-block"}},[r("p",[t._v(" Our team will explore how different communities in Atlanta perceive language in different ways. To do this, we’ll be using a dataset of 149 local communities with information about their online behavior on Twitter. Information at the twitter account level allowed us to create summary statistics at the community level such as community size, average number of followers, friends and tweets and understand what are the top follows and topic words in each community. Following a specific methodology, deviations from the normal language can be measured and these deviations are called semantic change. Our main goal is that the user can understand the semantic change in social media across Atlanta’s communities and have a guide for current local trends online. Examples of potential users are journalists, politicians and society as a whole. ")]),r("p",[t._v(' What is Semantic Change? According to wikipedia, Semantic Change is a form of language change regarding the evolution of word usage. For example, if you take the word "Gay", that word\'s usage has drastically changed over the past century. Originally in the 1940s, "Gay" meant happy and joyful. But today, the word "Gay" is associated with the LGBTQIA+ community. Another example is the phrase "What\'s up?". The original meaning of that in English would\'ve meant "what is located above me?", but today it\'s used as a casual way of starting conversation. ')])]),r("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"image-block"}},[r("b-img",{attrs:{id:"logo",center:"",src:e("cf05"),alt:"Center image"}})],1)])])},a=[],s={name:"Intro",data(){return{title1:"Exploring patterns of language variation on social media",title2:"A case study in Atlanta online communities"}}},u=s,c=(e("8324"),e("2877")),l=Object(c["a"])(u,o,a,!1,null,"664c7856",null),h=l.exports,f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{attrs:{id:"left"}},[e("transition",{attrs:{name:"move"}},[t.showingTwitters?e("Twitters",{attrs:{followingList:t.followingList}}):t._e()],1),e("transition",{attrs:{name:"move"}},[t.showingHint2?e("div",{attrs:{id:"hint-2"}},[e("h4",[t._v(" Check a community to see the top follows 👉 ")])]):t._e()])],1),e("div",{ref:"right",attrs:{id:"right"}},[e("BarGraph",{attrs:{clusters:t.clusters}}),e("div",{attrs:{id:"right-bottom"}},[e("transition",{attrs:{name:"fade"}},[t.showingCheckbox?e("Checkbox",{attrs:{options:t.options,category:t.category}}):e("div",{attrs:{id:"hint-1"}},[e("h4",[t._v(" Click the bar to show communities under the category ☝️ ")])])],1)],1)],1)])},p=[],d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"chart",attrs:{id:"chart"}},[e("TooltipOne",{attrs:{data:t.tipData,visible:t.tipVisible}}),e("div",{ref:"svg-container",attrs:{id:"svg-container"}})],1)},m=[];function g(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function v(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}var y=Array.prototype.slice,w=function(t){return t},_=1,x=2,b=3,M=4,k=1e-6;function A(t){return"translate("+t+",0)"}function E(t){return"translate(0,"+t+")"}function N(t){return n=>+t(n)}function S(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function T(){return!this.__axis}function C(t,n){var e=[],r=null,i=null,o=6,a=6,s=3,u="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,c=t===_||t===M?-1:1,l=t===M||t===x?"x":"y",h=t===_||t===b?A:E;function f(f){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):w:i,m=Math.max(o,0)+s,g=n.range(),v=+g[0]+u,y=+g[g.length-1]+u,A=(n.bandwidth?S:N)(n.copy(),u),E=f.selection?f.selection():f,C=E.selectAll(".domain").data([null]),z=E.selectAll(".tick").data(p,n).order(),j=z.exit(),O=z.enter().append("g").attr("class","tick"),$=z.select("line"),B=z.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(O),$=$.merge(O.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),B=B.merge(O.append("text").attr("fill","currentColor").attr(l,c*m).attr("dy",t===_?"0em":t===b?"0.71em":"0.32em")),f!==E&&(C=C.transition(f),z=z.transition(f),$=$.transition(f),B=B.transition(f),j=j.transition(f).attr("opacity",k).attr("transform",(function(t){return isFinite(t=A(t))?h(t+u):this.getAttribute("transform")})),O.attr("opacity",k).attr("transform",(function(t){var n=this.parentNode.__axis;return h((n&&isFinite(n=n(t))?n:A(t))+u)}))),j.remove(),C.attr("d",t===M||t===x?a?"M"+c*a+","+v+"H"+u+"V"+y+"H"+c*a:"M"+u+","+v+"V"+y:a?"M"+v+","+c*a+"V"+u+"H"+y+"V"+c*a:"M"+v+","+u+"H"+y),z.attr("opacity",1).attr("transform",(function(t){return h(A(t)+u)})),$.attr(l+"2",c*o),B.attr(l,c*m).text(d),E.filter(T).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===x?"start":t===M?"end":"middle"),E.each((function(){this.__axis=A}))}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=y.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:y.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:y.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f.offset=function(t){return arguments.length?(u=+t,f):u},f}function z(t){return C(b,t)}function j(t){return C(M,t)}var O={value:()=>{}};function $(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new B(r)}function B(t){this._=t}function P(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function D(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function F(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=O,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}B.prototype=$.prototype={constructor:B,on:function(t,n){var e,r=this._,i=P(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++o<a)if(e=(t=i[o]).type)r[e]=F(r[e],t.name,n);else if(null==n)for(e in r)r[e]=F(r[e],t.name,null);return this}while(++o<a)if((e=(t=i[o]).type)&&(e=D(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new B(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var R=$;function H(){}var I=function(t){return null==t?H:function(){return this.querySelector(t)}},L=function(t){"function"!==typeof t&&(t=I(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,s=n[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Pn(r,this._parents)},W=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function q(){return[]}var V=function(t){return null==t?q:function(){return this.querySelectorAll(t)}};function Y(t){return function(){var n=t.apply(this,arguments);return null==n?[]:W(n)}}var U=function(t){t="function"===typeof t?Y(t):V(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,s=n[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Pn(r,i)},X=function(t){return function(){return this.matches(t)}};function G(t){return function(n){return n.matches(t)}}var Z=Array.prototype.find;function J(t){return function(){return Z.call(this.children,t)}}function K(){return this.firstElementChild}var Q=function(t){return this.select(null==t?K:J("function"===typeof t?t:G(t)))},tt=Array.prototype.filter;function nt(){return this.children}function et(t){return function(){return tt.call(this.children,t)}}var rt=function(t){return this.selectAll(null==t?nt:et("function"===typeof t?t:G(t)))},it=function(t){"function"!==typeof t&&(t=X(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Pn(r,this._parents)},ot=function(t){return new Array(t.length)},at=function(){return new Pn(this._enter||this._groups.map(ot),this._parents)};function st(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}st.prototype={constructor:st,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ut=function(t){return function(){return t}};function ct(t,n,e,r,i,o){for(var a,s=0,u=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new st(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function lt(t,n,e,r,i,o,a){var s,u,c,l=new Map,h=n.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=n[s])&&(p[s]=c=a.call(u,u.__data__,s,n)+"",l.has(c)?i[s]=u:l.set(c,u));for(s=0;s<f;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(r[s]=u,u.__data__=o[s],l.delete(c)):e[s]=new st(t,o[s]);for(s=0;s<h;++s)(u=n[s])&&l.get(p[s])===u&&(i[s]=u)}function ht(t){return t.__data__}var ft=function(t,n){if(!arguments.length)return Array.from(this,ht);var e=n?lt:ct,r=this._parents,i=this._groups;"function"!==typeof t&&(t=ut(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],f=h.length,p=W(t.call(l,l&&l.__data__,c,r)),d=p.length,m=s[c]=new Array(d),g=a[c]=new Array(d),v=u[c]=new Array(f);e(l,h,m,g,v,p,n);for(var y,w,_=0,x=0;_<d;++_)if(y=m[_]){_>=x&&(x=_+1);while(!(w=g[x])&&++x<d);y._next=w||null}}return a=new Pn(a,r),a._enter=s,a._exit=u,a},pt=function(){return new Pn(this._exit||this._groups.map(ot),this._parents)},dt=function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},mt=function(t){if(!(t instanceof Pn))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=n[s],l=e[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=n[s];return new Pn(a,this._parents)},gt=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},vt=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=yt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(n)}return new Pn(i,this._parents).order()};function yt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var wt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},_t=function(){return Array.from(this)},xt=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},bt=function(){let t=0;for(const n of this)++t;return t},Mt=function(){return!this.node()},kt=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},At="http://www.w3.org/1999/xhtml",Et={svg:"http://www.w3.org/2000/svg",xhtml:At,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Et.hasOwnProperty(n)?{space:Et[n],local:t}:t};function St(t){return function(){this.removeAttribute(t)}}function Tt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ct(t,n){return function(){this.setAttribute(t,n)}}function zt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Ot(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var $t=function(t,n){var e=Nt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Tt:St:"function"===typeof n?e.local?Ot:jt:e.local?zt:Ct)(e,n))},Bt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Pt(t){return function(){this.style.removeProperty(t)}}function Dt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ft(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}var Rt=function(t,n,e){return arguments.length>1?this.each((null==n?Pt:"function"===typeof n?Ft:Dt)(t,n,null==e?"":e)):Ht(this.node(),t)};function Ht(t,n){return t.style.getPropertyValue(n)||Bt(t).getComputedStyle(t,null).getPropertyValue(n)}function It(t){return function(){delete this[t]}}function Lt(t,n){return function(){this[t]=n}}function Wt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}var qt=function(t,n){return arguments.length>1?this.each((null==n?It:"function"===typeof n?Wt:Lt)(t,n)):this.node()[t]};function Vt(t){return t.trim().split(/^|\s+/)}function Yt(t){return t.classList||new Ut(t)}function Ut(t){this._node=t,this._names=Vt(t.getAttribute("class")||"")}function Xt(t,n){var e=Yt(t),r=-1,i=n.length;while(++r<i)e.add(n[r])}function Gt(t,n){var e=Yt(t),r=-1,i=n.length;while(++r<i)e.remove(n[r])}function Zt(t){return function(){Xt(this,t)}}function Jt(t){return function(){Gt(this,t)}}function Kt(t,n){return function(){(n.apply(this,arguments)?Xt:Gt)(this,t)}}Ut.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qt=function(t,n){var e=Vt(t+"");if(arguments.length<2){var r=Yt(this.node()),i=-1,o=e.length;while(++i<o)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?Kt:n?Zt:Jt)(e,n))};function tn(){this.textContent=""}function nn(t){return function(){this.textContent=t}}function en(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}var rn=function(t){return arguments.length?this.each(null==t?tn:("function"===typeof t?en:nn)(t)):this.node().textContent};function on(){this.innerHTML=""}function an(t){return function(){this.innerHTML=t}}function sn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}var un=function(t){return arguments.length?this.each(null==t?on:("function"===typeof t?sn:an)(t)):this.node().innerHTML};function cn(){this.nextSibling&&this.parentNode.appendChild(this)}var ln=function(){return this.each(cn)};function hn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var fn=function(){return this.each(hn)};function pn(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===At&&n.documentElement.namespaceURI===At?n.createElement(t):n.createElementNS(e,t)}}function dn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var mn=function(t){var n=Nt(t);return(n.local?dn:pn)(n)},gn=function(t){var n="function"===typeof t?t:mn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))};function vn(){return null}var yn=function(t,n){var e="function"===typeof t?t:mn(t),r=null==n?vn:"function"===typeof n?n:I(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))};function wn(){var t=this.parentNode;t&&t.removeChild(this)}var _n=function(){return this.each(wn)};function xn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function bn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Mn=function(t){return this.select(t?bn:xn)},kn=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function An(t){return function(n){t.call(this,n,this.__data__)}}function En(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Nn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function Sn(t,n,e){return function(){var r,i=this.__on,o=An(n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}var Tn=function(t,n,e){var r,i,o=En(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?Sn:Nn,r=0;r<a;++r)this.each(s(o[r],n,e));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value};function Cn(t,n,e){var r=Bt(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function zn(t,n){return function(){return Cn(this,t,n)}}function jn(t,n){return function(){return Cn(this,t,n.apply(this,arguments))}}var On=function(t,n){return this.each(("function"===typeof n?jn:zn)(t,n))},$n=function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)},Bn=[null];function Pn(t,n){this._groups=t,this._parents=n}function Dn(){return new Pn([[document.documentElement]],Bn)}function Fn(){return this}Pn.prototype=Dn.prototype={constructor:Pn,select:L,selectAll:U,selectChild:Q,selectChildren:rt,filter:it,data:ft,enter:at,exit:pt,join:dt,merge:mt,selection:Fn,order:gt,sort:vt,call:wt,nodes:_t,node:xt,size:bt,empty:Mt,each:kt,attr:$t,style:Rt,property:qt,classed:Qt,text:rn,html:un,raise:ln,lower:fn,append:gn,insert:yn,remove:_n,clone:Mn,datum:kn,on:Tn,dispatch:On,[Symbol.iterator]:$n};var Rn=Dn,Hn=function(t){return"string"===typeof t?new Pn([[document.querySelector(t)]],[document.documentElement]):new Pn([[t]],Bn)};var In=function(t){t.preventDefault(),t.stopImmediatePropagation()},Ln=function(t){var n=t.document.documentElement,e=Hn(t).on("dragstart.drag",In,!0);"onselectstart"in n?e.on("selectstart.drag",In,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Wn(t,n){var e=t.document.documentElement,r=Hn(t).on("dragstart.drag",null);n&&(r.on("click.drag",In,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var qn=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Vn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Yn(){}var Un=.7,Xn=1/Un,Gn="\\s*([+-]?\\d+)\\s*",Zn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kn=/^#([0-9a-f]{3,8})$/,Qn=new RegExp("^rgb\\("+[Gn,Gn,Gn]+"\\)$"),te=new RegExp("^rgb\\("+[Jn,Jn,Jn]+"\\)$"),ne=new RegExp("^rgba\\("+[Gn,Gn,Gn,Zn]+"\\)$"),ee=new RegExp("^rgba\\("+[Jn,Jn,Jn,Zn]+"\\)$"),re=new RegExp("^hsl\\("+[Zn,Jn,Jn]+"\\)$"),ie=new RegExp("^hsla\\("+[Zn,Jn,Jn,Zn]+"\\)$"),oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ae(){return this.rgb().formatHex()}function se(){return we(this).formatHsl()}function ue(){return this.rgb().formatRgb()}function ce(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Kn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?le(n):3===e?new de(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?he(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?he(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Qn.exec(t))?new de(n[1],n[2],n[3],1):(n=te.exec(t))?new de(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ne.exec(t))?he(n[1],n[2],n[3],n[4]):(n=ee.exec(t))?he(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=re.exec(t))?ye(n[1],n[2]/100,n[3]/100,1):(n=ie.exec(t))?ye(n[1],n[2]/100,n[3]/100,n[4]):oe.hasOwnProperty(t)?le(oe[t]):"transparent"===t?new de(NaN,NaN,NaN,0):null}function le(t){return new de(t>>16&255,t>>8&255,255&t,1)}function he(t,n,e,r){return r<=0&&(t=n=e=NaN),new de(t,n,e,r)}function fe(t){return t instanceof Yn||(t=ce(t)),t?(t=t.rgb(),new de(t.r,t.g,t.b,t.opacity)):new de}function pe(t,n,e,r){return 1===arguments.length?fe(t):new de(t,n,e,null==r?1:r)}function de(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function me(){return"#"+ve(this.r)+ve(this.g)+ve(this.b)}function ge(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ve(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ye(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xe(t,n,e,r)}function we(t){if(t instanceof xe)return new xe(t.h,t.s,t.l,t.opacity);if(t instanceof Yn||(t=ce(t)),!t)return new xe;if(t instanceof xe)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new xe(a,s,u,t.opacity)}function _e(t,n,e,r){return 1===arguments.length?we(t):new xe(t,n,e,null==r?1:r)}function xe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function be(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Me(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}qn(Yn,ce,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ae,formatHex:ae,formatHsl:se,formatRgb:ue,toString:ue}),qn(de,pe,Vn(Yn,{brighter:function(t){return t=null==t?Xn:Math.pow(Xn,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Un:Math.pow(Un,t),new de(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:me,formatHex:me,formatRgb:ge,toString:ge})),qn(xe,_e,Vn(Yn,{brighter:function(t){return t=null==t?Xn:Math.pow(Xn,t),new xe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Un:Math.pow(Un,t),new xe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new de(be(t>=240?t-240:t+120,i,r),be(t,i,r),be(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ke=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return Me((e-r/n)*n,a,i,o,s)}},Ae=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],s=t[(r+2)%n];return Me((e-r/n)*n,i,o,a,s)}},Ee=t=>()=>t;function Ne(t,n){return function(e){return t+e*n}}function Se(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Te(t,n){var e=n-t;return e?Ne(t,e>180||e<-180?e-360*Math.round(e/360):e):Ee(isNaN(t)?n:t)}function Ce(t){return 1===(t=+t)?ze:function(n,e){return e-n?Se(n,e,t):Ee(isNaN(n)?e:n)}}function ze(t,n){var e=n-t;return e?Ne(t,e):Ee(isNaN(t)?n:t)}var je=function t(n){var e=Ce(n);function r(t,n){var r=e((t=pe(t)).r,(n=pe(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ze(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Oe(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),s=new Array(i);for(e=0;e<i;++e)r=pe(n[e]),o[e]=r.r||0,a[e]=r.g||0,s[e]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Oe(ke),Oe(Ae);var $e=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function Be(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pe(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Ue(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}var De=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},Fe=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},Re=function(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=Ue(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},He=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ie=new RegExp(He.source,"g");function Le(t){return function(){return t}}function We(t){return function(n){return t(n)+""}}var qe,Ve,Ye=function(t,n){var e,r,i,o=He.lastIndex=Ie.lastIndex=0,a=-1,s=[],u=[];t+="",n+="";while((e=He.exec(t))&&(r=Ie.exec(n)))(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Fe(e,r)})),o=Ie.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?We(u[0].x):Le(n):(n=u.length,function(t){for(var e,r=0;r<n;++r)s[(e=u[r]).i]=e.x(t);return s.join("")})},Ue=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Ee(n):("number"===r?Fe:"string"===r?(e=ce(n))?(n=e,je):Ye:n instanceof ce?je:n instanceof Date?De:Be(n)?$e:Array.isArray(n)?Pe:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?Re:Fe)(t,n)},Xe=function(t){let n;while(n=t.sourceEvent)t=n;return t},Ge=function(t,n){if(t=Xe(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},Ze=0,Je=0,Ke=0,Qe=1e3,tr=0,nr=0,er=0,rr="object"===typeof performance&&performance.now?performance:Date,ir="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function or(){return nr||(ir(ar),nr=rr.now()+er)}function ar(){nr=0}function sr(){this._call=this._time=this._next=null}function ur(t,n,e){var r=new sr;return r.restart(t,n,e),r}function cr(){or(),++Ze;var t,n=qe;while(n)(t=nr-n._time)>=0&&n._call.call(null,t),n=n._next;--Ze}function lr(){nr=(tr=rr.now())+er,Ze=Je=0;try{cr()}finally{Ze=0,fr(),nr=0}}function hr(){var t=rr.now(),n=t-tr;n>Qe&&(er-=n,tr=t)}function fr(){var t,n,e=qe,r=1/0;while(e)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);Ve=t,pr(r)}function pr(t){if(!Ze){Je&&(Je=clearTimeout(Je));var n=t-nr;n>24?(t<1/0&&(Je=setTimeout(lr,t-rr.now()-er)),Ke&&(Ke=clearInterval(Ke))):(Ke||(tr=rr.now(),Ke=setInterval(hr,Qe)),Ze=1,ir(lr))}}sr.prototype=ur.prototype={constructor:sr,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?or():+e)+(null==n?0:+n),this._next||Ve===this||(Ve?Ve._next=this:qe=this,Ve=this),this._call=t,this._time=e,pr()},stop:function(){this._call&&(this._call=null,this._time=1/0,pr())}};var dr=function(t,n,e){var r=new sr;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},mr=R("start","end","cancel","interrupt"),gr=[],vr=0,yr=1,wr=2,_r=3,xr=4,br=5,Mr=6,kr=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};Sr(t,e,{name:n,index:r,group:i,on:mr,tween:gr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vr})};function Ar(t,n){var e=Nr(t,n);if(e.state>vr)throw new Error("too late; already scheduled");return e}function Er(t,n){var e=Nr(t,n);if(e.state>_r)throw new Error("too late; already running");return e}function Nr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Sr(t,n,e){var r,i=t.__transition;function o(t){e.state=yr,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var c,l,h,f;if(e.state!==yr)return u();for(c in i)if(f=i[c],f.name===e.name){if(f.state===_r)return dr(a);f.state===xr?(f.state=Mr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<n&&(f.state=Mr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(dr((function(){e.state===_r&&(e.state=xr,e.timer.restart(s,e.delay,e.time),s(o))})),e.state=wr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===wr){for(e.state=_r,r=new Array(h=e.tween.length),c=0,l=-1;c<h;++c)(f=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=f);r.length=l+1}}function s(n){var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=br,1),o=-1,a=r.length;while(++o<a)r[o].call(t,i);e.state===br&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=Mr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=ur(o,0,e.time)}var Tr,Cr=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>wr&&e.state<br,e.state=Mr,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},zr=function(t){return this.each((function(){Cr(this,t)}))},jr=180/Math.PI,Or={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$r=function(t,n,e,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*jr,skewX:Math.atan(u)*jr,scaleX:a,scaleY:s}};function Br(t){const n=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Or:$r(n.a,n.b,n.c,n.d,n.e,n.f)}function Pr(t){return null==t?Or:(Tr||(Tr=document.createElementNS("http://www.w3.org/2000/svg","g")),Tr.setAttribute("transform",t),(t=Tr.transform.baseVal.consolidate())?(t=t.matrix,$r(t.a,t.b,t.c,t.d,t.e,t.f)):Or)}function Dr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,n,null,e);s.push({i:u-4,x:Fe(t,i)},{i:u-2,x:Fe(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}function a(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Fe(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function s(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Fe(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function u(t,n,e,r,o,a){if(t!==e||n!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Fe(t,e)},{i:s-2,x:Fe(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,i),a(n.rotate,e.rotate,r,i),s(n.skewX,e.skewX,r,i),u(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){var n,e=-1,o=i.length;while(++e<o)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var Fr=Dr(Br,"px, ","px)","deg)"),Rr=Dr(Pr,", ",")",")");function Hr(t,n){var e,r;return function(){var i=Er(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ir(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=Er(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}var Lr=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Nr(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Hr:Ir)(e,t,n))};function Wr(t,n,e){var r=t._id;return t.each((function(){var t=Er(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Nr(t,r).value[n]}}var qr=function(t,n){var e;return("number"===typeof n?Fe:n instanceof ce?je:(e=ce(n))?(n=e,je):Ye)(t,n)};function Vr(t){return function(){this.removeAttribute(t)}}function Yr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ur(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Xr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Gr(t,n,e){var r,i,o;return function(){var a,s,u=e(this);if(null!=u)return a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u));this.removeAttribute(t)}}function Zr(t,n,e){var r,i,o;return function(){var a,s,u=e(this);if(null!=u)return a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u));this.removeAttributeNS(t.space,t.local)}}var Jr=function(t,n){var e=Nt(t),r="transform"===e?Rr:qr;return this.attrTween(t,"function"===typeof n?(e.local?Zr:Gr)(e,r,Wr(this,"attr."+t,n)):null==n?(e.local?Yr:Vr)(e):(e.local?Xr:Ur)(e,r,n))};function Kr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Qr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ti(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Qr(t,i)),e}return i._value=n,i}function ni(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Kr(t,i)),e}return i._value=n,i}var ei=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Nt(t);return this.tween(e,(r.local?ti:ni)(r,n))};function ri(t,n){return function(){Ar(this,t).delay=+n.apply(this,arguments)}}function ii(t,n){return n=+n,function(){Ar(this,t).delay=n}}var oi=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?ri:ii)(n,t)):Nr(this.node(),n).delay};function ai(t,n){return function(){Er(this,t).duration=+n.apply(this,arguments)}}function si(t,n){return n=+n,function(){Er(this,t).duration=n}}var ui=function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?ai:si)(n,t)):Nr(this.node(),n).duration};function ci(t,n){if("function"!==typeof n)throw new Error;return function(){Er(this,t).ease=n}}var li=function(t){var n=this._id;return arguments.length?this.each(ci(n,t)):Nr(this.node(),n).ease};function hi(t,n){return function(){var e=n.apply(this,arguments);if("function"!==typeof e)throw new Error;Er(this,t).ease=e}}var fi=function(t){if("function"!==typeof t)throw new Error;return this.each(hi(this._id,t))},pi=function(t){"function"!==typeof t&&(t=X(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Li(r,this._parents,this._name,this._id)},di=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=n[s],l=e[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=n[s];return new Li(a,this._parents,this._name,this._id)};function mi(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}function gi(t,n,e){var r,i,o=mi(n)?Ar:Er;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}var vi=function(t,n){var e=this._id;return arguments.length<2?Nr(this.node(),e).on.on(t):this.each(gi(e,t,n))};function yi(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}var wi=function(){return this.on("end.remove",yi(this._id))},_i=function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=I(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,kr(h[f],n,e,f,h,Nr(s,e)));return new Li(o,this._parents,n,e)},xi=function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=V(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,p=t.call(u,u.__data__,h,c),d=Nr(u,e),m=0,g=p.length;m<g;++m)(f=p[m])&&kr(f,n,e,m,p,d);o.push(p),a.push(u)}return new Li(o,a,n,e)},bi=Rn.prototype.constructor,Mi=function(){return new bi(this._groups,this._parents)};function ki(t,n){var e,r,i;return function(){var o=Ht(this,t),a=(this.style.removeProperty(t),Ht(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Ai(t){return function(){this.style.removeProperty(t)}}function Ei(t,n,e){var r,i,o=e+"";return function(){var a=Ht(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}function Ni(t,n,e){var r,i,o;return function(){var a=Ht(this,t),s=e(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Ht(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,s))}}function Si(t,n){var e,r,i,o,a="style."+n,s="end."+a;return function(){var u=Er(this,t),c=u.on,l=null==u.value[a]?o||(o=Ai(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(s,i=l),u.on=r}}var Ti=function(t,n,e){var r="transform"===(t+="")?Fr:qr;return null==n?this.styleTween(t,ki(t,r)).on("end.style."+t,Ai(t)):"function"===typeof n?this.styleTween(t,Ni(t,r,Wr(this,"style."+t,n))).each(Si(this._id,t)):this.styleTween(t,Ei(t,r,n),e).on("end.style."+t,null)};function Ci(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function zi(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Ci(t,o,e)),r}return o._value=n,o}var ji=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,zi(t,n,null==e?"":e))};function Oi(t){return function(){this.textContent=t}}function $i(t){return function(){var n=t(this);this.textContent=null==n?"":n}}var Bi=function(t){return this.tween("text","function"===typeof t?$i(Wr(this,"text",t)):Oi(null==t?"":t+""))};function Pi(t){return function(n){this.textContent=t.call(this,n)}}function Di(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Pi(r)),n}return r._value=t,r}var Fi=function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,Di(t))},Ri=function(){for(var t=this._name,n=this._id,e=qi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=Nr(a,n);kr(a,t,e,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Li(r,this._parents,t,e)},Hi=function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};e.each((function(){var e=Er(this,r),i=e.on;i!==t&&(n=(t=i).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),e.on=n})),0===i&&o()}))},Ii=0;function Li(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Wi(t){return Rn().transition(t)}function qi(){return++Ii}var Vi=Rn.prototype;function Yi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Li.prototype=Wi.prototype={constructor:Li,select:_i,selectAll:xi,filter:pi,merge:di,selection:Mi,transition:Ri,call:Vi.call,nodes:Vi.nodes,node:Vi.node,size:Vi.size,empty:Vi.empty,each:Vi.each,on:vi,attr:Jr,attrTween:ei,style:Ti,styleTween:ji,text:Bi,textTween:Fi,remove:wi,tween:Lr,delay:oi,duration:ui,ease:li,easeVarying:fi,end:Hi,[Symbol.iterator]:Vi[Symbol.iterator]};var Ui={time:null,delay:0,duration:250,ease:Yi};function Xi(t,n){var e;while(!(e=t.__transition)||!(e=e[n]))if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}var Gi=function(t){var n,e;t instanceof Li?(n=t._id,t=t._name):(n=qi(),(e=Ui).time=or(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&kr(a,t,n,c,s,e||Xi(a,n));return new Li(r,this._parents,t,n)};Rn.prototype.interrupt=zr,Rn.prototype.transition=Gi;const{abs:Zi,max:Ji,min:Ki}=Math;function Qi(t){return[+t[0],+t[1]]}function to(t){return[Qi(t[0]),Qi(t[1])]}["w","e"].map(no),["n","s"].map(no),["n","w","e","s","nw","ne","sw","se"].map(no);function no(t){return{type:t}}var eo={},ro={},io=34,oo=10,ao=13;function so(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function uo(t,n){var e=so(t);return function(r,i){return n(e(r),i,t)}}function co(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function lo(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function ho(t){return t<0?"-"+lo(-t,6):t>9999?"+"+lo(t,6):lo(t,4)}function fo(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ho(t.getUTCFullYear(),4)+"-"+lo(t.getUTCMonth()+1,2)+"-"+lo(t.getUTCDate(),2)+(i?"T"+lo(n,2)+":"+lo(e,2)+":"+lo(r,2)+"."+lo(i,3)+"Z":r?"T"+lo(n,2)+":"+lo(e,2)+":"+lo(r,2)+"Z":e||n?"T"+lo(n,2)+":"+lo(e,2)+"Z":"")}var po=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var e,r,o=i(t,(function(t,i){if(e)return e(t,i-1);r=t,e=n?uo(t,n):so(t)}));return o.columns=r||[],o}function i(t,n){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return ro;if(c)return c=!1,eo;var n,r,i=a;if(t.charCodeAt(i)===io){while(a++<o&&t.charCodeAt(a)!==io||t.charCodeAt(++a)===io);return(n=a)>=o?u=!0:(r=t.charCodeAt(a++))===oo?c=!0:r===ao&&(c=!0,t.charCodeAt(a)===oo&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(n=a++))===oo)c=!0;else if(r===ao)c=!0,t.charCodeAt(a)===oo&&++a;else if(r!==e)continue;return t.slice(i,n)}return u=!0,t.slice(i,o)}t.charCodeAt(o-1)===oo&&--o,t.charCodeAt(o-1)===ao&&--o;while((r=l())!==ro){var h=[];while(r!==eo&&r!==ro)h.push(r),r=l();n&&null==(h=n(h,s++))||i.push(h)}return i}function o(n,e){return n.map((function(n){return e.map((function(t){return l(n[t])})).join(t)}))}function a(n,e){return null==e&&(e=co(n)),[e.map(l).join(t)].concat(o(n,e)).join("\n")}function s(t,n){return null==n&&(n=co(t)),o(t,n).join("\n")}function u(t){return t.map(c).join("\n")}function c(n){return n.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?fo(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:u,formatRow:c,formatValue:l}},mo=po(","),go=mo.parse,vo=(mo.parseRows,mo.format,mo.formatBody,mo.formatRows,mo.formatRow,mo.formatValue,po("\t")),yo=vo.parse;vo.parseRows,vo.format,vo.formatBody,vo.formatRows,vo.formatRow,vo.formatValue;function wo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var _o=function(t,n){return fetch(t,n).then(wo)};function xo(t){return function(n,e,r){return 2===arguments.length&&"function"===typeof e&&(r=e,e=void 0),_o(n,e).then((function(n){return t(n,r)}))}}var bo=xo(go);xo(yo);function Mo(t){var n=0,e=t.children,r=e&&e.length;if(r)while(--r>=0)n+=e[r].value;else n=1;t.value=n}var ko=function(){return this.eachAfter(Mo)},Ao=function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},Eo=function(t,n){var e,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(n,i,++a,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},No=function(t,n){var e,r,i,o=this,a=[o],s=[],u=-1;while(o=a.pop())if(s.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);while(o=s.pop())t.call(n,o,++u,this);return this},So=function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},To=function(t){return this.eachAfter((function(n){var e=+t(n.data)||0,r=n.children,i=r&&r.length;while(--i>=0)e+=r[i].value;n.value=e}))},Co=function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},zo=function(t){var n=this,e=jo(n,t),r=[n];while(n!==e)n=n.parent,r.push(n);var i=r.length;while(t!==e)r.splice(i,0,t),t=t.parent;return r};function jo(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();while(t===n)i=t,t=e.pop(),n=r.pop();return i}var Oo=function(){var t=this,n=[t];while(t=t.parent)n.push(t);return n},$o=function(){return Array.from(this)},Bo=function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},Po=function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},Do=function*(){var t,n,e,r,i=this,o=[i];do{t=o.reverse(),o=[];while(i=t.pop())if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)};function Fo(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=Io)):void 0===n&&(n=Ho);var e,r,i,o,a,s=new qo(t),u=[s];while(e=u.pop())if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new qo(i[o])),r.parent=e,r.depth=e.depth+1;return s.eachBefore(Wo)}function Ro(){return Fo(this).eachBefore(Lo)}function Ho(t){return t.children}function Io(t){return Array.isArray(t)?t[1]:null}function Lo(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Wo(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function qo(t){this.data=t,this.depth=this.height=0,this.parent=null}qo.prototype=Fo.prototype={constructor:qo,count:ko,each:Ao,eachAfter:No,eachBefore:Eo,find:So,sum:To,sort:Co,path:zo,ancestors:Oo,descendants:$o,leaves:Bo,links:Po,copy:Ro,[Symbol.iterator]:Do};var Vo=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function Yo(t){var n,e,r=t.length;while(r)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}var Uo=function(t){var n,e,r=0,i=(t=Yo(Array.from(t))).length,o=[];while(r<i)n=t[r],e&&Zo(e,n)?++r:(e=Ko(o=Xo(o,n)),r=0);return e};function Xo(t,n){var e,r;if(Jo(n,t))return[n];for(e=0;e<t.length;++e)if(Go(n,t[e])&&Jo(ta(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Go(ta(t[e],t[r]),n)&&Go(ta(t[e],n),t[r])&&Go(ta(t[r],n),t[e])&&Jo(na(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Go(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Zo(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Jo(t,n){for(var e=0;e<n.length;++e)if(!Zo(t,n[e]))return!1;return!0}function Ko(t){switch(t.length){case 1:return Qo(t[0]);case 2:return ta(t[0],t[1]);case 3:return na(t[0],t[1],t[2])}}function Qo(t){return{x:t.x,y:t.y,r:t.r}}function ta(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,a=n.y,s=n.r,u=o-e,c=a-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(e+o+u/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+s)/2}}function na(t,n,e){var r=t.x,i=t.y,o=t.r,a=n.x,s=n.y,u=n.r,c=e.x,l=e.y,h=e.r,f=r-a,p=r-c,d=i-s,m=i-l,g=u-o,v=h-o,y=r*r+i*i-o*o,w=y-a*a-s*s+u*u,_=y-c*c-l*l+h*h,x=p*d-f*m,b=(d*_-m*w)/(2*x)-r,M=(m*g-d*v)/x,k=(p*w-f*_)/(2*x)-i,A=(f*v-p*g)/x,E=M*M+A*A-1,N=2*(o+b*M+k*A),S=b*b+k*k-o*o,T=-(E?(N+Math.sqrt(N*N-4*E*S))/(2*E):S/N);return{x:r+b+M*T,y:i+k+A*T,r:T}}function ea(t,n,e){var r,i,o,a,s=t.x-n.x,u=t.y-n.y,c=s*s+u*u;c?(i=n.r+e.r,i*=i,a=t.r+e.r,a*=a,i>a?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),e.x=t.x-r*s-o*u,e.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*s-o*u,e.y=n.y+r*u+o*s)):(e.x=n.x+e.r,e.y=n.y)}function ra(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ia(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function oa(t){this._=t,this.next=null,this.previous=null}function aa(t){if(!(i=(t=Vo(t)).length))return 0;var n,e,r,i,o,a,s,u,c,l,h;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;ea(e,n,r=t[2]),n=new oa(n),e=new oa(e),r=new oa(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(s=3;s<i;++s){ea(n._,e._,r=t[s]),r=new oa(r),u=e.next,c=n.previous,l=e._.r,h=n._.r;do{if(l<=h){if(ra(u._,r._)){e=u,n.next=e,e.previous=n,--s;continue t}l+=u._.r,u=u.next}else{if(ra(c._,r._)){n=c,n.next=e,e.previous=n,--s;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);r.previous=n,r.next=e,n.next=e.previous=e=r,o=ia(n);while((r=r.next)!==e)(a=ia(r))<o&&(n=r,o=a);e=n.next}n=[e._],r=e;while((r=r.next)!==e)n.push(r._);for(r=Uo(n),s=0;s<i;++s)n=t[s],n.x-=r.x,n.y-=r.y;return r.r}function sa(t){return null==t?null:ua(t)}function ua(t){if("function"!==typeof t)throw new Error;return t}function ca(){return 0}var la=function(t){return function(){return t}};function ha(t){return Math.sqrt(t.value)}var fa=function(){var t=null,n=1,e=1,r=ca;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(pa(t)).eachAfter(da(r,.5)).eachBefore(ma(1)):i.eachBefore(pa(ha)).eachAfter(da(ca,1)).eachAfter(da(r,i.r/Math.min(n,e))).eachBefore(ma(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=sa(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:la(+t),i):r},i};function pa(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function da(t,n){return function(e){if(r=e.children){var r,i,o,a=r.length,s=t(e)*n||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=aa(r),s)for(i=0;i<a;++i)r[i].r-=s;e.r=o+s}}}function ma(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var ga=1e-12;function va(t){return((t=Math.exp(t))+1/t)/2}function ya(t){return((t=Math.exp(t))-1/t)/2}function wa(t){return((t=Math.exp(2*t))-1)/(t+1)}var _a=function t(n,e,r){function i(t,i){var o,a,s=t[0],u=t[1],c=t[2],l=i[0],h=i[1],f=i[2],p=l-s,d=h-u,m=p*p+d*d;if(m<ga)a=Math.log(f/c)/n,o=function(t){return[s+t*p,u+t*d,c*Math.exp(n*t*a)]};else{var g=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*e*g),y=(f*f-c*c-r*m)/(2*f*e*g),w=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(y*y+1)-y);a=(_-w)/n,o=function(t){var r=t*a,i=va(w),o=c/(e*g)*(i*wa(n*r+w)-ya(w));return[s+o*p,u+o*d,c*i/va(n*r+w)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e,i=r*r;return t(e,r,i)},i}(Math.SQRT2,2,4);const xa=Math.PI/180,ba=180/Math.PI,Ma=18,ka=.96422,Aa=1,Ea=.82521,Na=4/29,Sa=6/29,Ta=3*Sa*Sa,Ca=Sa*Sa*Sa;function za(t){if(t instanceof Oa)return new Oa(t.l,t.a,t.b,t.opacity);if(t instanceof Ha)return Ia(t);t instanceof de||(t=fe(t));var n,e,r=Da(t.r),i=Da(t.g),o=Da(t.b),a=$a((.2225045*r+.7168786*i+.0606169*o)/Aa);return r===i&&i===o?n=e=a:(n=$a((.4360747*r+.3850649*i+.1430804*o)/ka),e=$a((.0139322*r+.0971045*i+.7141733*o)/Ea)),new Oa(116*a-16,500*(n-a),200*(a-e),t.opacity)}function ja(t,n,e,r){return 1===arguments.length?za(t):new Oa(t,n,e,null==r?1:r)}function Oa(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function $a(t){return t>Ca?Math.pow(t,1/3):t/Ta+Na}function Ba(t){return t>Sa?t*t*t:Ta*(t-Na)}function Pa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Da(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fa(t){if(t instanceof Ha)return new Ha(t.h,t.c,t.l,t.opacity);if(t instanceof Oa||(t=za(t)),0===t.a&&0===t.b)return new Ha(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*ba;return new Ha(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ra(t,n,e,r){return 1===arguments.length?Fa(t):new Ha(t,n,e,null==r?1:r)}function Ha(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ia(t){if(isNaN(t.h))return new Oa(t.l,0,0,t.opacity);var n=t.h*xa;return new Oa(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function La(t){return function(n,e){var r=t((n=Ra(n)).h,(e=Ra(e)).h),i=ze(n.c,e.c),o=ze(n.l,e.l),a=ze(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=a(t),n+""}}}qn(Oa,ja,Vn(Yn,{brighter:function(t){return new Oa(this.l+Ma*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Oa(this.l-Ma*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=ka*Ba(n),t=Aa*Ba(t),e=Ea*Ba(e),new de(Pa(3.1338561*n-1.6168667*t-.4906146*e),Pa(-.9787684*n+1.9161415*t+.033454*e),Pa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),qn(Ha,Ra,Vn(Yn,{brighter:function(t){return new Ha(this.h,this.c,this.l+Ma*(null==t?1:t),this.opacity)},darker:function(t){return new Ha(this.h,this.c,this.l-Ma*(null==t?1:t),this.opacity)},rgb:function(){return Ia(this).rgb()}}));var Wa=La(Te),qa=(La(ze),function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);while(++r<i)o[r]=t+r*e;return o});function Va(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const Ya=Symbol("implicit");function Ua(){var t=new Map,n=[],e=[],r=Ya;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ya)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ua(n,e).unknown(r)},Va.apply(i,arguments),i}function Xa(){var t,n,e=Ua().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function h(){var e=r().length,h=a<o,f=h?a:o,p=h?o:a;t=(p-f)/Math.max(1,e-u+2*c),s&&(t=Math.floor(t)),f+=(p-f-t*(e-u))*l,n=t*(1-u),s&&(f=Math.round(f),n=Math.round(n));var d=qa(e).map((function(n){return f+t*n}));return i(h?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),h()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(s=!!t,h()):s},e.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},e.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},e.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},e.copy=function(){return Xa(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},Va.apply(h(),arguments)}var Ga=Math.sqrt(50),Za=Math.sqrt(10),Ja=Math.sqrt(2),Ka=function(t,n,e){var r,i,o,a,s=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Qa(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);while(++s<i)o[s]=(e+s)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);while(++s<i)o[s]=(e+s)/a}return r&&o.reverse(),o};function Qa(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ga?10:o>=Za?5:o>=Ja?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ga?10:o>=Za?5:o>=Ja?2:1)}function ts(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ga?i*=10:o>=Za?i*=5:o>=Ja&&(i*=2),n<t?-i:i}var ns=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},es=function(t){let n=t,e=t;function r(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}function i(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}function o(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a}return 1===t.length&&(n=(n,e)=>t(n)-e,e=rs(t)),{left:r,center:o,right:i}};function rs(t){return(n,e)=>ns(t(n),e)}var is=function(t){return null===t?NaN:+t};const os=es(ns),as=os.right;os.left,es(is).center;var ss=as,us=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}};function cs(t){return function(){return t}}function ls(t){return+t}var hs=[0,1];function fs(t){return t}function ps(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:cs(isNaN(n)?NaN:.5)}function ds(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}function ms(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=ps(i,r),o=e(a,o)):(r=ps(r,i),o=e(o,a)),function(t){return o(r(t))}}function gs(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++a<r)i[a]=ps(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=ss(t,n,1,r)-1;return o[e](i[e](n))}}function vs(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ys(){var t,n,e,r,i,o,a=hs,s=hs,u=Ue,c=fs;function l(){var t=Math.min(a.length,s.length);return c!==fs&&(c=ds(a[0],a[t-1])),r=t>2?gs:ms,i=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),s,u)))(t(c(n)))}return h.invert=function(e){return c(n((o||(o=r(s,a.map(t),Fe)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ls),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=us,l()},h.clamp=function(t){return arguments.length?(c=!!t||fs,l()):c!==fs},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,l()}}function ws(){return ys()(fs,fs)}var _s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xs(t){if(!(n=_s.exec(t)))throw new Error("invalid format: "+t);var n;return new bs({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function bs(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}xs.prototype=bs.prototype,bs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ms=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function ks(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var As,Es,Ns,Ss,Ts=function(t){return t=ks(Math.abs(t)),t?t[1]:NaN},Cs=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ts(n)/3)))-Ts(Math.abs(t)))},zs=function(t,n){return function(e,r){var i=e.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(n)}},js=function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}},Os=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t},$s=function(t,n){var e=ks(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(As=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ks(t,Math.max(0,n+o-1))[0]},Bs=function(t,n){var e=ks(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ps={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ms,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Bs(100*t,n),r:Bs,s:$s,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},Ds=function(t){return t},Fs=Array.prototype.map,Rs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Hs=function(t){var n=void 0===t.grouping||void 0===t.thousands?Ds:zs(Fs.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Ds:js(Fs.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function c(t){t=xs(t);var c=t.fill,l=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Ps[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===c&&"="===l)&&(p=!0,c="0",l="=");var w="$"===f?e:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===f?r:/[%p]/.test(y)?a:"",x=Ps[y],b=/[defgprs%]/.test(y);function M(t){var e,r,a,f=w,M=_;if("c"===y)M=x(t)+M,t="";else{t=+t;var k=t<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),v&&(t=Os(t)),k&&0===+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:s:"-"===h||"("===h?"":h)+f,M=("s"===y?Rs[8+As/3]:"")+M+(k&&"("===h?")":""),b){e=-1,r=t.length;while(++e<r)if(a=t.charCodeAt(e),48>a||a>57){M=(46===a?i+t.slice(e+1):t.slice(e))+M,t=t.slice(0,e);break}}}m&&!p&&(t=n(t,1/0));var A=f.length+t.length+M.length,E=A<d?new Array(d-A+1).join(c):"";switch(m&&p&&(t=n(E+t,E.length?d-M.length:1/0),E=""),l){case"<":t=f+t+M+E;break;case"=":t=f+E+t+M;break;case"^":t=E.slice(0,A=E.length>>1)+f+t+M+E.slice(A);break;default:t=E+f+t+M;break}return o(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}function l(t,n){var e=c((t=xs(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ts(n)/3))),i=Math.pow(10,-r),o=Rs[8+r/3];return function(t){return e(i*t)+o}}return{format:c,formatPrefix:l}};function Is(t){return Es=Hs(t),Ns=Es.format,Ss=Es.formatPrefix,Es}Is({thousands:",",grouping:[3],currency:["$",""]});var Ls=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ts(n)-Ts(t))+1},Ws=function(t){return Math.max(0,-Ts(Math.abs(t)))};function qs(t,n,e,r){var i,o=ts(t,n,e);switch(r=xs(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Cs(o,a))||(r.precision=i),Ss(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Ls(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ws(o))||(r.precision=i-2*("%"===r.type));break}return Ns(r)}function Vs(t){var n=t.domain;return t.ticks=function(t){var e=n();return Ka(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return qs(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);while(l-- >0){if(i=Qa(u,c,e),i===r)return o[a]=u,o[s]=c,n(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ys(){var t=ws();return t.copy=function(){return vs(t,Ys())},Va.apply(t,arguments),Vs(t)}var Us=function(t){var n=t.length/6|0,e=new Array(n),r=0;while(r<n)e[r]="#"+t.slice(6*r,6*++r);return e},Xs=Us("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Gs=function(t){return"string"===typeof t?new Pn([document.querySelectorAll(t)],[document.documentElement]):new Pn([null==t?[]:W(t)],Bn)};const Zs=Math.PI,Js=2*Zs,Ks=1e-6,Qs=Js-Ks;function tu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nu(){return new tu}tu.prototype=nu.prototype={constructor:tu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,s=e-t,u=r-n,c=o-t,l=a-n,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>Ks)if(Math.abs(l*s-u*c)>Ks&&i){var f=e-o,p=r-a,d=s*s+u*u,m=f*f+p*p,g=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((Zs-Math.acos((d+h-m)/(2*g*v)))/2),w=y/v,_=y/g;Math.abs(w-1)>Ks&&(this._+="L"+(t+w*c)+","+(n+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+_*s)+","+(this._y1=n+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var a=e*Math.cos(r),s=e*Math.sin(r),u=t+a,c=n+s,l=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ks||Math.abs(this._y1-c)>Ks)&&(this._+="L"+u+","+c),e&&(h<0&&(h=h%Js+Js),h>Qs?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-s)+"A"+e+","+e+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Ks&&(this._+="A"+e+","+e+",0,"+ +(h>=Zs)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var eu=nu,ru=(Array.prototype.slice,function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}),iu=function(t){return function(){return t}};function ou(t){this._context=t}ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};var au=function(t){return new ou(t)};function su(t){return t[0]}function uu(t){return t[1]}var cu=function(t,n){var e=iu(!0),r=null,i=au,o=null;function a(a){var s,u,c,l=(a=ru(a)).length,h=!1;for(null==r&&(o=i(c=eu())),s=0;s<=l;++s)!(s<l&&e(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+n(u,s,a));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?su:iu(t),n="function"===typeof n?n:void 0===n?uu:iu(n),a.x=function(n){return arguments.length?(t="function"===typeof n?n:iu(+n),a):t},a.y=function(t){return arguments.length?(n="function"===typeof t?t:iu(+t),a):n},a.defined=function(t){return arguments.length?(e="function"===typeof t?t:iu(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},lu=t=>()=>t;function hu(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function fu(t,n,e){this.k=t,this.x=n,this.y=e}fu.prototype={constructor:fu,scale:function(t){return 1===t?this:new fu(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new fu(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pu=new fu(1,0,0);function du(t){while(!t.__zoom)if(!(t=t.parentNode))return pu;return t.__zoom}function mu(t){t.stopImmediatePropagation()}du.prototype=fu.prototype;var gu=function(t){t.preventDefault(),t.stopImmediatePropagation()};function vu(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function yu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function wu(){return this.__zoom||pu}function _u(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function xu(){return navigator.maxTouchPoints||"ontouchstart"in this}function bu(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Mu=function(){var t,n,e,r=vu,i=yu,o=bu,a=_u,s=xu,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,h=_a,f=R("start","zoom","end"),p=500,d=150,m=0,g=10;function v(t){t.property("__zoom",wu).on("wheel.zoom",k).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return n=Math.max(u[0],Math.min(u[1],n)),n===t.k?t:new fu(n,t.x,t.y)}function w(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new fu(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,n,e,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=b(t,o).event(r),s=i.apply(t,o),u=null==e?_(s):"function"===typeof e?e.apply(t,o):e,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,f="function"===typeof n?n.apply(t,o):n,p=h(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=p(t),e=c/n[2];t=new fu(e,u[0]-n[0]*e,u[1]-n[1]*e)}a.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new M(t,n)}function M(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function k(t,...n){if(r.apply(this,arguments)){var e=b(this,n).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),l=Ge(t);if(e.wheel)e.mouse[0][0]===l[0]&&e.mouse[0][1]===l[1]||(e.mouse[1]=i.invert(e.mouse[0]=l)),clearTimeout(e.wheel);else{if(i.k===s)return;e.mouse=[l,i.invert(l)],Cr(this),e.start()}gu(t),e.wheel=setTimeout(h,d),e.zoom("mouse",o(w(y(i,s),e.mouse[0],e.mouse[1]),e.extent,c))}function h(){e.wheel=null,e.end()}}function A(t,...n){if(!e&&r.apply(this,arguments)){var i=b(this,n,!0).event(t),a=Hn(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),s=Ge(t,u),u=t.currentTarget,l=t.clientX,h=t.clientY;Ln(t.view),mu(t),i.mouse=[s,this.__zoom.invert(s)],Cr(this),i.start()}function f(t){if(gu(t),!i.moved){var n=t.clientX-l,e=t.clientY-h;i.moved=n*n+e*e>m}i.event(t).zoom("mouse",o(w(i.that.__zoom,i.mouse[0]=Ge(t,u),i.mouse[1]),i.extent,c))}function p(t){a.on("mousemove.zoom mouseup.zoom",null),Wn(t.view,i.moved),gu(t),i.event(t).end()}}function E(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Ge(t.changedTouches?t.changedTouches[0]:t,this),s=e.invert(a),u=e.k*(t.shiftKey?.5:2),h=o(w(y(e,u),a,s),i.apply(this,n),c);gu(t),l>0?Hn(this).transition().duration(l).call(x,h,a,t):Hn(this).call(v.transform,h,a,t)}}function N(e,...i){if(r.apply(this,arguments)){var o,a,s,u,c=e.touches,l=c.length,h=b(this,i,e.changedTouches.length===l).event(e);for(mu(e),a=0;a<l;++a)s=c[a],u=Ge(s,this),u=[u,this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(n=u[0],t=setTimeout((function(){t=null}),p)),Cr(this),h.start())}}function S(t,...n){if(this.__zooming){var e,r,i,a,s=b(this,n).event(t),u=t.changedTouches,l=u.length;for(gu(t),e=0;e<l;++e)r=u[e],i=Ge(r,this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],p=s.touch1[0],d=s.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;r=y(r,Math.sqrt(m/g)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(w(r,i,a),s.extent,c))}}function T(t,...r){if(this.__zooming){var i,o,a=b(this,r).event(t),s=t.changedTouches,u=s.length;for(mu(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),p),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Ge(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<g)){var c=Hn(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",wu),t!==i?x(t,n,e,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e,r){v.scaleTo(t,(function(){var t=this.__zoom.k,e="function"===typeof n?n.apply(this,arguments):n;return t*e}),e,r)},v.scaleTo=function(t,n,e,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?_(t):"function"===typeof e?e.apply(this,arguments):e,s=r.invert(a),u="function"===typeof n?n.apply(this,arguments):n;return o(w(y(r,u),a,s),t,c)}),e,r)},v.translateBy=function(t,n,e,r){v.transform(t,(function(){return o(this.__zoom.translate("function"===typeof n?n.apply(this,arguments):n,"function"===typeof e?e.apply(this,arguments):e),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,n,e,r,a){v.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?_(t):"function"===typeof r?r.apply(this,arguments):r;return o(pu.translate(s[0],s[1]).scale(a.k).translate("function"===typeof n?-n.apply(this,arguments):-n,"function"===typeof e?-e.apply(this,arguments):-e),t,c)}),r,a)},M.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Hn(this.that).datum();f.call(t,this.that,new hu(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:f}),n)}},v.wheelDelta=function(t){return arguments.length?(a="function"===typeof t?t:lu(+t),v):a},v.filter=function(t){return arguments.length?(r="function"===typeof t?t:lu(!!t),v):r},v.touchable=function(t){return arguments.length?(s="function"===typeof t?t:lu(!!t),v):s},v.extent=function(t){return arguments.length?(i="function"===typeof t?t:lu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],v):[u[0],u[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(l=+t,v):l},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v},ku=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"tooltip",attrs:{id:"tooltip-1"}},[e("b-card",{attrs:{title:t.data.category}},[e("b-card-text",[t._v(" "+t._s(t.data.alc)+" ")])],1)],1)},Au=[],Eu={name:"TooltipOne",props:["data","visible"]},Nu=Eu,Su=(e("c4cc"),Object(c["a"])(Nu,ku,Au,!1,null,"790a4940",null)),Tu=Su.exports,Cu=e("56d7"),zu={name:"BarGraph",components:{TooltipOne:Tu},props:["clusters"],data(){return{tipData:{category:"dddd",alc:"www"},tipVisible:!1,margin:null,width:null,height:null,x:null,y:null,color:null,svg:null}},mounted(){this.margin={top:20,right:20,bottom:70,left:40},this.width=this.$refs.chart.clientWidth-this.margin.left-this.margin.right,this.height=this.$refs.chart.clientHeight-this.margin.top-this.margin.bottom,this.x=Xa().padding(.85).rangeRound([0,this.width]),this.y=Ys().range([this.height,0]),this.color=Xs,this.svg=Hn("#chart").append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.showBarGraph()},methods:{showBarGraph(){bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/category_avg.csv").then(t=>{t.forEach((function(t){t.alc=+t.avg_lexical_change})),console.log("data",t),this.x.domain(t.map((function(t){return t.category}))),this.y.domain([0,.05+g(t,(function(t){return t.alc}))]),this.svg.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+this.height+")").call(z(this.x)).selectAll("text").attr("y",23).attr("x",9).attr("dy","-2em").attr("transform","rotate(90)").style("text-anchor","start"),this.svg.append("g").attr("class","axis axis--y").call(j(this.y)).append("text").attr("y",6).attr("dy","0em").attr("text-anchor","end").text("Average Lexical Change");const n=this.svg.selectAll(".bar").data(t),e=this;n.enter().append("rect").attr("class","bar").attr("x",(function(t){return e.x(t.category)})).attr("y",(function(t){return e.y(t.alc)})).attr("width",20).attr("height",(function(t){return e.height-e.y(t.alc)})).style("fill","#ccc").on("click",(function(t,n){console.log(t);const r=e.clusters.filter(t=>t.category==n.category);e.showCheckbox({category:n.category,options:r}),console.log(r)})).on("mouseover",(function(t,n){console.log("over"),e.tipData.category=n.category,e.tipData.alc=n.alc,Gs("#tooltip-1").style("left",t.clientX+"px").style("top",t.clientY-100+"px").transition().duration(500).style("opacity","1")})).on("mouseout",(function(){console.log("out"),Gs("#tooltip-1").transition().duration(500).style("opacity","0")}));var r=v(t,(function(t){return t.alc})),i=r/t.length;this.svg.append("path").attr("class","mean").attr("d",cu()([[0,e.y(i)],[e.width,e.y(i)]])).attr("stroke","black"),this.svg.append("text").attr("transform","translate("+(this.width+3)+","+this.y(i)+")").attr("dy","1em").attr("text-anchor","end").style("fill","red").html("Average = $"+i)})},showCheckbox(t){Cu["eventBus"].$emit("show-checkbox",t)}}},ju=zu,Ou=(e("60d2"),Object(c["a"])(ju,d,m,!1,null,"14b95318",null)),$u=Ou.exports,Bu=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.followingList.length>0?e("div",{attrs:{id:"following-list"}},[e("h5",[t._v(" Top Follows of Selected Community ")]),e("div",{attrs:{id:"follows"}},t._l(t.followingList,(function(t){return e("TwitterPreview",{key:t,attrs:{following:t}})})),1)]):t._e()},Pu=[],Du=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("b-link",{attrs:{href:"https://twitter.com/"+t.following}},[t._v(" @"+t._s(t.following)+" ")])],1)},Fu=[],Ru={name:"TwitterPreview",props:["following"]},Hu=Ru,Iu=Object(c["a"])(Hu,Du,Fu,!1,null,null,null),Lu=Iu.exports,Wu={name:"Twitters",components:{TwitterPreview:Lu},props:["followingList"]},qu=Wu,Vu=(e("4b5e"),Object(c["a"])(qu,Bu,Pu,!1,null,"558772b0",null)),Yu=Vu.exports,Uu=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"checkbox"}},[e("h5",[t._v(" Clusters in Category "+t._s(t.category.toUpperCase())+" ")]),e("b-form-group",[e("b-form-radio-group",{attrs:{id:"checkbox-group",options:t.options},on:{change:function(n){return t.selectCommunity(t.selected)}},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}})],1)],1)},Xu=[],Gu={name:"Checkbox",props:["options","category"],data(){return{selected:null}},methods:{selectCommunity:function(){Cu["eventBus"].$emit("select-community",this.selected)}}},Zu=Gu,Ju=Object(c["a"])(Zu,Uu,Xu,!1,null,"96bdc64e",null),Ku=Ju.exports,Qu={name:"BarChart",components:{BarGraph:$u,Checkbox:Ku,Twitters:Yu},data(){return{title:"Exploring patterns of language variation on social media",clusters:[],options:[],followingList:[],category:"",showingCheckbox:!1,showingTwitters:!1,showingHint2:!1}},created:function(){Cu["eventBus"].$on("show-checkbox",this.showCheckbox),Cu["eventBus"].$on("select-community",this.showTwitters)},beforeDestroy:function(){Cu["eventBus"].$off("show-checkbox",this.showCheckbox),Cu["eventBus"].$off("select-community",this.showTwitters)},mounted(){bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(t=>{const n=this;t.forEach((function(t){n.clusters.push({text:t.cluster_name,value:t.cluster_name,category:t.category})}))})},methods:{showCheckbox(t){this.options=t.options,this.category=t.category,this.showingCheckbox=!0,this.showingHint2=!0,this.followingList=[]},showTwitters(t){bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(n=>{const e=n.find(n=>n.cluster_name==t);this.followingList=e.top_follows.split(",")}),console.log(this.followingList),this.showingTwitters=!0,this.showingHint2=!1}}},tc=Qu,nc=(e("5e50"),Object(c["a"])(tc,f,p,!1,null,"c9676f9e",null)),ec=nc.exports,rc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{attrs:{id:"left"}},[e("Ranking")],1),e("div",{ref:"right",attrs:{id:"right"}},[e("SizeGraph")],1)])},ic=[],oc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"chart1",attrs:{id:"chart-1"}},[e("div",{ref:"svg-container",attrs:{id:"svg-container-1"}})])},ac=[],sc={name:"SizeGraph",props:["clusters"],data(){return{margin:null,width:null,height:null,x:null,y:null,color:null,svg:null,xAxis:null,yAxis:null,xScale:null,yScale:null}},created:function(){Cu["eventBus"].$on("select-ranking",this.reorder)},beforeDestroy:function(){Cu["eventBus"].$off("select-ranking",this.reorder)},mounted(){this.margin={top:20,right:10,bottom:20,left:80},this.width=this.$refs.chart1.clientWidth-this.margin.left-this.margin.right,this.height=this.$refs.chart1.clientHeight-this.margin.top-this.margin.bottom,this.x=Ys().range([this.margin.left,this.width-this.margin.right]).nice(),this.y=Xa().range([this.height-this.margin.bottom,this.margin.top]).padding(.1),this.color=function(t,n){return n.includes(t.cluster_name)?"#FF930E":"#ccc"},this.svg=Hn("#chart-1").append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.svg.append("clipPath").attr("id","my-clip-path").append("rect").attr("x",-500).attr("y",this.margin.top).attr("width",this.width+500+this.margin.left+this.margin.right).attr("height",this.height-this.margin.top-this.margin.bottom),this.svg.append("rect").attr("class","zoom-panel").attr("x",-500).attr("y",this.margin.top).attr("width",this.width).attr("height",this.height).style("opacity",0);const t=this;this.xScale=function(n){n.attr("transform",`translate(15, ${t.height-t.margin.bottom})`).call(z(t.x)).call(t=>t.select(".domain").remove())},this.xAxis=this.svg.append("g").attr("class","x-axis").call(this.xScale),this.svg.append("text").attr("x",(this.width+this.margin.left)/2).attr("y",this.height-5).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","black").text(""),this.yScale=function(n,e){n.attr("transform",`translate(${t.margin.left+15}, 0)`).call(j(e).ticks(t.width/80).tickSizeOuter(0))},this.yAxis=this.svg.append("g").attr("class","y-axis").attr("clip-path","url(#my-clip-path)").call(this.yScale,this.y),this.svg.append("text").attr("transform","rotate(-90)").attr("x",-(this.height-this.margin.bottom)/2-50).attr("y",15).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","black").text(""),this.reorder("community_size");const n=Mu().scaleExtent([1,32]).extent([[t.margin.left,0],[t.width-t.margin.right,t.height-t.margin.bottom]]).translateExtent([[t.margin.left,0],[t.width-t.margin.right,t.height-t.margin.bottom]]).on("zoom",e);function e(n){t.y.range([t.height-t.margin.bottom,t.margin.top].map(t=>n.transform.applyY(t))),t.svg.selectAll(".bar").attr("y",n=>t.y(n.cluster_name)).attr("height",t.y.bandwidth()),t.yAxis.call(t.yScale,t.y)}this.svg.call(n)},methods:{updateBars(t,n){this.x.domain([0,g(t,t=>t.value)]),this.xAxis.transition().duration(1e3).call(z(this.x)),this.y.domain(t.map(t=>t.cluster_name)),this.yAxis.transition().duration(1e3).call(j(this.y));const e=this.svg.selectAll(".bar").data(t),r=this;e.enter().append("rect").attr("clip-path","url(#my-clip-path)").attr("class","bar").attr("x",r.margin.left+15).attr("y",t=>r.y(t.cluster_name)).attr("width",t=>r.x(t.value)-r.margin.left).attr("height",r.y.bandwidth()).attr("fill",t=>r.color(t,n)),e.transition().duration(250).attr("x",r.margin.left+15).attr("y",t=>r.y(t.cluster_name)).attr("width",t=>r.x(t.value)-r.margin.left).attr("height",r.y.bandwidth()).attr("fill",t=>r.color(t,n)),e.exit().remove()},reorder(t){bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(n=>{n.forEach(n=>n.value=parseFloat(n[t])),n.sort((t,n)=>t.value-n.value),n.forEach((t,n)=>t.Rank=n+1),t=[],this.updateBars(n,t)})}}},uc=sc,cc=(e("aa10"),Object(c["a"])(uc,oc,ac,!1,null,"2d19b327",null)),lc=cc.exports,hc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h2",[t._v(" Ranking Communities ")]),e("b-form-group",{attrs:{label:"Sort the communities by:"}},[e("b-form-radio-group",{staticClass:"button-radio",attrs:{id:"btn-radios-3",options:t.options,name:"radio-btn-stacked",buttons:"",stacked:"","button-variant":"outline-secondary"},on:{change:function(n){return t.selectRanking(t.selected)}},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}})],1),e("h4",[t._v(" Zoom in/out and move 👉 ")])],1)},fc=[],pc={name:"Ranking",data(){return{selected:"community_size",options:[{text:"community size",value:"community_size"},{text:"average friends count",value:"friends_count_mean"},{text:"average follower count",value:"follower_count_mean"},{text:"average tweet count",value:"tweet_count_mean"},{text:"lexical change",value:"lexical_change"},{text:"ideology lexical change",value:"ideology_lexical_change"},{text:"male ratio",value:"male_ratio"}]}},created:function(){Cu["eventBus"].$on("select-ranking",this.changeButton)},beforeDestroy:function(){Cu["eventBus"].$off("select-ranking",this.changeButton)},methods:{selectRanking:function(){Cu["eventBus"].$emit("select-ranking",this.selected)},changeButton:function(t){this.selected=t}}},dc=pc,mc=(e("8770"),Object(c["a"])(dc,hc,fc,!1,null,"084e6565",null)),gc=mc.exports,vc={name:"BarChart",components:{SizeGraph:lc,Ranking:gc},data(){return{}},created:function(){},beforeDestroy:function(){},mounted(){},methods:{}},yc=vc,wc=(e("fe3b"),Object(c["a"])(yc,rc,ic,!1,null,"02dfca9e",null)),_c=wc.exports,xc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{attrs:{id:"left"}},[e("Factors"),e("transition",{attrs:{name:"fade"}},[t.showingHint?e("div",[e("h4",[t._v(" Hover on a dot to see the topic words of the community 👉 ")])]):e("TooltipThree",{attrs:{clusterName:t.clusterName,topicWords:t.topicWords}})],1)],1),e("div",{ref:"right",attrs:{id:"right"}},[e("h2",[t._v(" Investigate how language variation relates to social factors ")]),e("ScatterGraph")],1)])},bc=[],Mc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"chart3",attrs:{id:"chart-3"}},[e("div",{ref:"svg-container-3",attrs:{id:"svg-container-3"}})])},kc=[],Ac={name:"ScatterGraph",props:["clusters"],data(){return{margin:null,width:null,height:null,x:null,y:null,color:null,svg:null,xAxis:null,yAxis:null,xScale:null,yScale:null,xText:"",yText:"",storedData:null}},created:function(){Cu["eventBus"].$on("select-factors",this.updateScatterPlot)},beforeDestroy:function(){Cu["eventBus"].$off("select-factors",this.updateScatterPlot)},mounted(){this.margin={top:20,right:10,bottom:20,left:80},this.width=this.$refs.chart3.clientWidth-this.margin.left-this.margin.right,this.height=this.$refs.chart3.clientHeight-this.margin.top-this.margin.bottom,this.x=Ys().range([0,this.width]),this.y=Ys().range([this.height-50,0]),this.svg=Hn("#chart-3").append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");const t=this;this.xAxis=this.svg.append("g").attr("class","x-axis").attr("transform","translate(0,"+(t.height-50)+")").call(z(t.x)),this.xText=this.svg.append("text").attr("x",(this.width+this.margin.left)/2).attr("y",this.height-5).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","black").text(""),this.yAxis=this.svg.append("g").attr("class","y-axis").call(j(t.y)),this.yText=this.svg.append("text").attr("transform","rotate(-90)").attr("x",-(this.height-this.margin.bottom)/2-50).attr("y",-50).attr("text-anchor","middle").attr("font-family","Helvetica Neue, Arial").attr("font-weight",700).attr("font-size",20).attr("fill","black").text(""),bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(t=>{this.storedData=t,console.log(this.storedData),this.updateScatterPlot("community_size","lexical_change","all")})},methods:{updateScatterPlot(t,n,e){console.log(t,n,e);const r=this,i="all"!=e?r.storedData.filter(t=>t.category==e):r.storedData;console.log(r.storedData),console.log(i),this.x.domain([0,g(i,n=>parseFloat(n[t]))]),this.xAxis.transition().duration(1e3).call(z(this.x)),this.xText.text(t),this.y.domain([0,g(i,t=>parseFloat(t[n]))]),this.yAxis.transition().duration(1e3).call(j(this.y)),this.yText.text(n);const o=this.svg.selectAll(".dot").data(i.filter((function(t,n){return n<1500})));console.log("Here"),o.enter().append("circle").attr("class","dot").attr("r",5).style("fill","#e25609").style("opacity",.3).style("stroke","white").on("mouseover",(function(t,n){console.log("over"),console.log(t);const e=n.cluster_name,r=n.topic_words;Cu["eventBus"].$emit("show-tooltip-3",e,r)})).on("mouseout",(function(){console.log("out"),Cu["eventBus"].$emit("hide-tooltip-3")})).transition().delay((function(t,n){return 3*n})).duration(2e3).attr("cx",(function(n){return r.x(n[t])})).attr("cy",(function(t){return r.y(t[n])})),console.log("Here"),o.transition().delay((function(t,n){return 3*n})).duration(2e3).attr("cx",(function(n){return r.x(n[t])})).attr("cy",(function(t){return r.y(t[n])})),console.log("Here"),o.exit().remove(),console.log("Here")}}},Ec=Ac,Nc=(e("7143"),Object(c["a"])(Ec,Mc,kc,!1,null,"484254cd",null)),Sc=Nc.exports,Tc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("b-form-group",{attrs:{id:"input-group-1",label:"Choose two factors:","label-for":"m-2"}},[e("b-form-select",{attrs:{options:t.factors},on:{change:t.selectFactors},model:{value:t.factor1,callback:function(n){t.factor1=n},expression:"factor1"}}),e("b-form-select",{attrs:{options:t.factors},on:{change:t.selectFactors},model:{value:t.factor2,callback:function(n){t.factor2=n},expression:"factor2"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Choose a category:","label-for":"m-2"}},[e("b-form-select",{attrs:{options:t.categories},on:{change:t.selectFactors},model:{value:t.category,callback:function(n){t.category=n},expression:"category"}})],1)],1)},Cc=[],zc={name:"Ranking",data(){return{factor1:"community_size",factor2:"lexical_change",category:"all",categories:["all","atlanta","beauty","education","entertainment","health","other","politics","religion","social_justice","sports"],factors:["community_size","lexical_change","ideology_lexical_change","male_ratio","friends_count_mean","friends_count_median","follower_count_mean","follower_count_median","tweet_count_mean","tweet_count_median","tweet_count_rank"]}},methods:{selectFactors:function(){Cu["eventBus"].$emit("select-factors",this.factor1,this.factor2,this.category)}}},jc=zc,Oc=(e("d4fe"),Object(c["a"])(jc,Tc,Cc,!1,null,"45f45f50",null)),$c=Oc.exports,Bc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"tooltip-3"}},[e("vue-word-cloud",{attrs:{id:"wordcloud",rotation:t.rotate,spacing:t.spacing,words:t.topicWords,color:"black","font-family":"Roboto"}})],1)},Pc=[],Dc=e("2d8a"),Fc=e.n(Dc),Rc={name:"TooltipThree",props:["clusterName","topicWords"],components:{[Fc.a.name]:Fc.a},data(){return{words:[{text:"Vue",value:1e3},{text:"js",value:200},{text:"is",value:800},{text:"very cool",value:1e6},{text:"lunch",value:100}],margin:{top:0,right:0,bottom:0,left:0},rotate:null,spacing:1/4}},mounted(){this.rotate=function(){const t=[0,1/8,3/4,7/8],n=Math.floor(Math.random()*t.length);return t[n]}}},Hc=Rc,Ic=(e("c0b8"),Object(c["a"])(Hc,Bc,Pc,!1,null,"6f4fd53e",null)),Lc=Ic.exports,Wc={name:"BarChart",components:{ScatterGraph:Sc,Factors:$c,TooltipThree:Lc},data(){return{clusterName:"",topicWords:[],showingHint:!0}},created:function(){Cu["eventBus"].$on("show-tooltip-3",this.showTooltip),Cu["eventBus"].$on("hide-tooltip-3",this.hideTooltip)},beforeDestroy:function(){Cu["eventBus"].$off("show-tooltip-3",this.showTooltip),Cu["eventBus"].$off("hide-tooltip-3",this.hideTooltip)},methods:{showTooltip(t,n){console.log("show"),this.clusterName=t,this.topicWords=n.split(",").map(t=>({text:t,value:1})),this.showingHint=!1},hideTooltip(){this.showingHint=!0,console.log("hide")}}},qc=Wc,Vc=(e("44df"),Object(c["a"])(qc,xc,bc,!1,null,"08800392",null)),Yc=Vc.exports,Uc=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},Xc=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"spacing"},[e("h5",[t._v("⬇️ continue...")])])}],Gc={name:"Spacing",data(){return{}}},Zc=Gc,Jc=(e("5cd9"),Object(c["a"])(Zc,Uc,Xc,!1,null,"63f214f0",null)),Kc=Jc.exports,Qc=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"thanks"}},[e("div",{attrs:{id:"thanks-title"}},[e("h1",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}]},[t._v(" "+t._s(t.title1)+" ")])]),e("div",{attrs:{id:"thanks-content"}},[e("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"thanks-text-block"}},[e("b-link",{attrs:{href:"https://github.com/6859-sp21/final-project-atlanta-community"}},[t._v("go to our github page")])],1),e("div",{directives:[{name:"scrollanimation",rawName:"v-scrollanimation"}],attrs:{id:"thanks-image-block"}},[e("b-button",{staticClass:"button-share",attrs:{"label-for":"input-1",variant:"link"}},[e("ShareNetwork",{attrs:{network:"twitter",url:"https://6859-sp21.github.io/final-project-atlanta-community/",title:"A visualization on tweets in Atlanta"}},[e("b-icon",{attrs:{icon:"twitter","font-scale":"3"}}),e("span",{staticStyle:{margin:"0.5em"}},[t._v("Share on twitter")])],1)],1),e("b-img")],1)])])},tl=[],nl={name:"Thanks",data(){return{title1:"Thanks for exploring"}}},el=nl,rl=(e("6c29"),Object(c["a"])(el,Qc,tl,!1,null,"ede78a9a",null)),il=rl.exports,ol=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page"},[e("div",{attrs:{id:"left"}},[e("Ranking")],1),e("div",{ref:"right",attrs:{id:"right"}},[e("CircleGraph")],1)])},al=[],sl=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"chart2",attrs:{id:"chart-2"}},[e("div",{attrs:{id:"svg-container-2"}})])},ul=[],cl={name:"CircleGraph",data(){return{width:null,height:null,color:null,svg:null,root:null,focus:null,view:null,label:null,storedData:null,node:null}},created:function(){Cu["eventBus"].$on("select-ranking",this.update)},beforeDestroy:function(){Cu["eventBus"].$off("select-ranking",this.update)},mounted(){this.width=this.$refs.chart2.clientWidth,this.height=this.$refs.chart2.clientHeight,console.log(this.width,this.height),this.width=Math.min(this.width,this.height),this.height=this.width,console.log(this.width,this.height),this.color=Ys().domain([0,5]).range(["hsl(152,80%,80%)","hsl(228,30%,40%)"]).interpolate(Wa);const t=this;console.log(t.width,t.height),this.svg=Hn("#chart-2").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",`-${t.width/2} -${t.height/2} ${t.width} ${t.height}`).style("background",t.color(0)).style("cursor","pointer").on("click",n=>t.zoom(n,t.root)),this.node=this.svg.append("g"),this.label=this.svg.append("g").style("font","10px sans-serif").attr("pointer-events","none").attr("text-anchor","middle"),bo("https://raw.githubusercontent.com/6859-sp21/final-project-atlanta-community/main/data/filtered_data_category.csv").then(t=>{this.storedData=t,this.update("community_size")})},methods:{pack(t){const n=fa().size([this.width,this.height]).padding(3);return n(Fo(t).sum(t=>t.value).sort((t,n)=>n.value-t.value))},update(t){const n=new Map,e=new Map;this.storedData.forEach(r=>{if(n.get(r.cluster_group)?n.get(r.cluster_group).push({name:r.cluster_name,value:parseFloat(r[t])}):n.set(r.cluster_group,[{name:r.cluster_name,value:parseFloat(r[t])}]),e.get(r.category))e.get(r.category).add(r.cluster_group);else{const t=new Set;t.add(r.cluster_group),e.set(r.category,t)}});const r=[];e.forEach((t,e)=>{const i=[];t.forEach(t=>{i.push({name:t,children:n.get(t)})}),r.push({name:e,children:i})});const i={name:"Atlanta",children:r};console.log(i),this.root=this.pack(i),this.focus=this.root,this.node&&this.node.remove(),this.label&&this.label.remove();const o=this;this.node=this.svg.append("g").selectAll("circle").data(o.root.descendants().slice(1)).join("circle").attr("fill",t=>t.children?o.color(t.depth):"white").attr("pointer-events",t=>t.children?null:"none").on("mouseover",(function(){Hn(this).attr("stroke","#000")})).on("mouseout",(function(){Hn(this).attr("stroke",null)})).on("click",(t,n)=>o.focus!==n&&(o.zoom(t,n),t.stopPropagation())),this.label=this.svg.append("g").style("font","10px sans-serif").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(o.root.descendants()).join("text").style("fill-opacity",t=>t.parent===o.root?1:0).style("display",t=>t.parent===o.root?"inline":"none").text(t=>t.data.name),this.zoomTo([o.root.x,o.root.y,2*o.root.r])},zoomTo(t){const n=this.width/t[2];this.view=t,this.label.attr("transform",e=>`translate(${(e.x-t[0])*n},${(e.y-t[1])*n})`),this.node.attr("transform",e=>`translate(${(e.x-t[0])*n},${(e.y-t[1])*n})`),this.node.attr("r",t=>t.r*n)},zoom(t,n){this.focus=n;const e=this,r=this.svg.transition().duration(t.altKey?7500:750).tween("zoom",t=>{console.log(t);const n=_a(e.view,[e.focus.x,e.focus.y,2*e.focus.r]);return t=>e.zoomTo(n(t))});this.label.filter((function(t){return t.parent===e.focus||"inline"===this.style.display})).transition(r).style("fill-opacity",t=>t.parent===e.focus?1:0).on("start",(function(t){t.parent===e.focus&&(this.style.display="inline")})).on("end",(function(t){t.parent!==e.focus&&(this.style.display="none")}))}}},ll=cl,hl=(e("7188"),Object(c["a"])(ll,sl,ul,!1,null,"1276382e",null)),fl=hl.exports,pl={name:"CirclePacking",components:{CircleGraph:fl,Ranking:gc},data(){return{}},created:function(){},beforeDestroy:function(){},mounted(){},methods:{}},dl=pl,ml=(e("6c00"),Object(c["a"])(dl,ol,al,!1,null,"c38b25f6",null)),gl=ml.exports,vl={components:{Intro:h,BarChart:ec,SizeChart:_c,ScatterChart:Yc,Spacing:Kc,Thanks:il,CirclePacking:gl},name:"Viz",data(){return{text:"Welcome to Novid"}}},yl=vl,wl=(e("7463"),Object(c["a"])(yl,r,i,!1,null,"21a278fc",null));n["default"]=wl.exports},"6c00":function(t,n,e){"use strict";e("caee")},"6c29":function(t,n,e){"use strict";e("3c6b")},7028:function(t,n,e){},7143:function(t,n,e){"use strict";e("eefc")},7188:function(t,n,e){"use strict";e("41c0")},7463:function(t,n,e){"use strict";e("2e2e")},7475:function(t,n,e){},8324:function(t,n,e){"use strict";e("7475")},8770:function(t,n,e){"use strict";e("1d0b")},"9a73":function(t,n,e){},a5ce:function(t,n,e){},aa10:function(t,n,e){"use strict";e("9a73")},c0b8:function(t,n,e){"use strict";e("56d5")},c4cc:function(t,n,e){"use strict";e("7028")},caee:function(t,n,e){},cf05:function(t,n,e){t.exports=e.p+"img/logo.d2bca33d.png"},d4fe:function(t,n,e){"use strict";e("0eaa")},e1b9:function(t,n,e){},e3e3:function(t,n,e){},eefc:function(t,n,e){},fe3b:function(t,n,e){"use strict";e("a5ce")}}]);
//# sourceMappingURL=chunk-c77c94ec.feff9f35.js.map